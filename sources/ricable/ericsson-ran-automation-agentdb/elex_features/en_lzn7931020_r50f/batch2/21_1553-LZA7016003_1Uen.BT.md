---
complexity_score: 20.0
converted_at: '2025-08-13T06:59:44.059734Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 21_1553-LZA7016003_1Uen.BT.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 21_1553-LZA7016003_1Uen.BT.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 26
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Manage Radio Network

WCDMA

Contents

![Image](../images/21_1553-LZA7016003_1Uen.BT/additional_3_CP.png)

![Image](../images/21_1553-LZA7016003_1Uen.BT/additional_3_CP.png)

- Description
    - Cell
    - Frequency Band
    - Introduction to WRAT MOM
    - Local Cell Configuration
    - NBAP Bearer Configuration
    - HSDPA Configuration
    - EUL Configuration
    - Sector Carrier Power Configuration
    - Deterministic Cell Allocation
    - Multi-Carrier Cell Matching
    - Allocation of Cells to HSDPA Processing Resources
- Procedures
    - Configuration Flow
    - Configure WCDMA Overview
    - Create NodeBFunction
    - Configure Local Cell
    - Configure NBAP Bearer
    - Configure HSDPA
    - Configure EUL
    - Configure Features
    - Delete NodeBFunction to Remove WCDMA

# 1 Description

## 1.1 Cell

A Cell represents a specific frequency in a specific geographical

area that can be identified by a User Equipment (UE). A Cell in the

RNC is mapped to a specific Local Cell in the RBS. A Local Cell represents

the equipment used by the cell in the RBS.

A Cell is created or deleted in the RNC. A Local Cell is created

or deleted in the RBS. The Local Cell has no operational state over

NBAP, either the Local Cell exists or not from the RNC point of view.

### 1.1.1 No DL TX Power Detector

No DL TX Power Detector allows the detection of suspected sleeping cells based on the

radio carrier power levels.

The detection mechanism triggers in the order of minutes. Cell re-setup is automatically

triggered as a recovery mechanism. In case of recovery failure, an alarm is raised.

No DL TX Power Detector is active by default.

No DL TX Power Detection Operation Sequence Diagram

Figure 1   No DL TX Power Detector Flowchart

The feature operates the following way:

1. If No DL TX Power event is detected on any carrier branch, it triggers cell re-setup.
2. Any other subsequent detections on other carrier branches is ignored while the recovery is ongoing.
3. The cell lock clears all alarms, including Downlink TX No Power Detected alarm.
4. If the recovery action was not successful, an alarm is raised on NodeBLocalCell MOC.

Hardware

No DL TX Power Detection is applicable to the radios that support VSWR

measurements.

## 1.2 Frequency Band

A frequency band represents a frequency span within which carriers

can be configured. The frequency bands are specified by the 3GPP standards.

For detailed information about frequency bands used for WCDMA, see Radio Node Configurations.

## 1.3 Introduction to WRAT MOM

The Figure 2 shows a schematic view of

selected Managed Object (MO) classes used to configure the WCDMA part of the Baseband

node in the Baseband MOM. In the Baseband MOM, the radio and antenna equipment are

grouped into one or more SectorEquipmentFunction MOs. A SectorEquipmentFunction MO is

single-band. A WCDMA sector can use resources from different SectorEquipmentFunction MOs to support

dual-band configurations. The SectorEquipmentFunction instances must

have the same antenna location and direction to support dual band.

Transport-related data is configured in the Iub MO tree. Iub MO is a parent MO to NbapCommon, NbapDedicated and IubDataStreams MOs.

When the Iub MO tree is

configured, in particular the NbapCommon and NbapDedicated MOs, it is

possible to establish the Iub link to RNC; see Allocated Iub Links (243/1543-AXD 105

03).

The local cells related data is configured in the NodeBLocalCellGroup MO

tree. RNC handles the UtranCell MO which is connected to the

local cell by a cell setup request from RNC.

Figure 2   Baseband Radio Node MOM for WCDMA

## 1.4 Local Cell Configuration

A Local Cell Group contains a group of Local Cells that share a common Baseband equipment

cluster. In the Local Cell Group, softer handover is possible.

The Local Cell configuration is performed by setting the required

attributes according to the Managed Object Model (MOM). For instructions

on how to configure Local Cell, see Configure Local Cell. For prerequisites, see Prerequisites for Local Cell Configuration.

## 1.5 NBAP Bearer Configuration

The control connection between RBS and RNC uses Node B Application

Part (NBAP). NBAP is carried over Iub, which is a link that connects

RNC and RBS.

The NBAP Bearer configuration is performed by setting the required

attributes according to the MOM. For instructions on how to configure

NBAP Bearer, see Configure NBAP Bearer.

For prerequisites, see Prerequisites for NBAP Bearer Configuration.

## 1.6 HSDPA Configuration

The High-Speed Downlink Packet Access (HSDPA) configuration is performed by setting the

required attributes according to the MOM. For instructions on how to configure HSDPA, see

Configure HSDPA.

For information about Baseband support and configuration of carriers, IQ streams, and carrier

allocation mode, see Radio Node Configurations.

Table 1 gives an overview of functions and related

attributes for basic HSDPA configuration.

Table 1   Functions and Attributes for Configuring HSDPA

| Function                         | Attribute                                                                                                                                                                               |
|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| N/A                              | NodeBLocalCell::airRateTypeSelector                                                                                                                                                     |
| N/A                              | NodeBLocalCell::chQualOffset                                                                                                                                                            |
| N/A                              | NodeBLocalCell::cqiAdjustmentOn                                                                                                                                                         |
| N/A                              | NodeBLocalCell::cqiErrors                                                                                                                                                               |
| N/A                              | NodeBLocalCell::cqiErrorsAbsent                                                                                                                                                         |
| N/A                              | NodeBLocalCell::hsPowerMargin                                                                                                                                                           |
| N/A                              | NodeBLocalCell::hsScchMaxCodePower                                                                                                                                                      |
| N/A                              | NodeBLocalCell::hsScchMinCodePower                                                                                                                                                      |
| N/A                              | NodeBLocalCell::qualityCheckPower                                                                                                                                                       |
| N/A                              | NodeBLocalCell::schMaxDelay                                                                                                                                                             |
| N/A                              | NodeBLocalCell::schWeight                                                                                                                                                               |
| Steered HS Allocation            | NodeBLocalCellGroup::featCtrlSteerHsAllocation  NodeBLocalCell::steeredHsCoreId                                                                                                         |
| Load-Based Steered HS Allocation | NodeBLocalCellGroup::featCtrlLoadBasedSteHsAlloc  NodeBLocalCellGroup::steHsThreshUneven  NodeBLocalCellGroup::steHsThreshHsUsersOneCore  NodeBLocalCellGroup::steHsThreshRejCntOneCore |

Table 2 gives an overview of the features and the

attributes for configuring HSDPA. For information about which features are licensed or basic,

see documents Optional Features and Basic Features in the WCDMA RAN library.

Table 2   Attributes for Configuring HSDPA Features

| Feature                                      | Attribute                                                                                                                                                                                                                                                            |
|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Battery Efficiency for High Speed FACH       | NodeBLocalCell::extraCompEnhUeDrx  NodeBLocalCell::extraHsScchCompEnhUeDrx  NodeBLocalCell::featCtrlEnhUeDrx                                                                                                                                                         |
| Dual-Band HSDPA Multi-Carrier                | NodeBFunction::dualBandSectorGroup1  NodeBFunction::dualBandSectorGroup2  NodeBFunction::dualBandSectorGroup3  NodeBFunction::dualBandSectorGroup4  NodeBFunction::dualBandSectorGroup5  NodeBFunction::dualBandSectorGroup6  NodeBLocalCell::featCtrlHsdpaDbMc      |
| Dual-Band HSDPA Multi-Carrier  Multi Carrier | NodeBLocalCellGroup::multiCarrierPair1  NodeBLocalCellGroup::multiCarrierPair2  NodeBLocalCellGroup::multiCarrierPair3  NodeBLocalCellGroup::multiCarrierPair4  NodeBLocalCellGroup::multiCarrierPair5  NodeBLocalCellGroup::multiCarrierPair6                       |
| Enhanced Layer 2                             | NodeBLocalCell::featCtrlEnhancedLayer2                                                                                                                                                                                                                               |
| High Speed Downlink for FACH                 | NodeBLocalCell::defaultCqiHsFach  NodeBLocalCell::extraCompForSigHsFach  NodeBLocalCell::extraCompHsFach  NodeBLocalCell::extraHsScchCompForSigHsFach  NodeBLocalCell::extraHsScchCompHsFach  NodeBLocalCell::featCtrlHsFach  NodeBLocalCell::throughputPqxHsdpaFach |
| HSDPA Dynamic Code Allocation                | NodeBLocalCell::featCtrlHsdpaDynamicCodeAllocation                                                                                                                                                                                                                   |
| HSDPA Dynamic Power Sharing                  | NodeBLocalCell::featCtrlHsdpaPowerSharing                                                                                                                                                                                                                            |
| HSDPA Flexible Scheduler                     | NodeBLocalCell::queueSelectAlgorithm (1)                                                                                                                                                                                                                             |
| HSDPA Incremental Redundancy                 | NodeBLocalCell::featCtrlHsdpaIncrementalRedundancy                                                                                                                                                                                                                   |
| HSDPA Minimum Bit Rate Scheduling            | NodeBLocalCell::minBitRate  NodeBLocalCell::minBitRateMinCqi                                                                                                                                                                                                         |
| HSDPA Mixed Mode Dynamic Power Sharing       | NodeBLocalCell::featCtrlHsdpaMmPowerSharing                                                                                                                                                                                                                          |
| HSDPA Multi-Carrier 3 Carriers               | NodeBLocalCell::featCtrlHsdpa3Mc                                                                                                                                                                                                                                     |
| HSDPA RBR QoS Profiling                      | IubDataStreams::hsRbrWeight  IubDataStreams::hsRbrDiscardProbability                                                                                                                                                                                                 |
| HSDPA TN Optimization                        | IubDataStreams::hsDataFrameDelayThreshold    IubDataStreams::maxHsRate                                                                                                                                                                                               |
| Multi Carrier                                | NodeBLocalCell::featCtrlHsdpaMc                                                                                                                                                                                                                                      |
| Multi Carrier Inactivity Control             | NodeBLocalCell::featCtrlHsdpaMcInactCtrl  NodeBLocalCell::hsdpaMcActivityBufferThreshold  NodeBLocalCell::hsdpaMcInactivityTimer                                                                                                                                     |
| SRB on HSDPA                                 | NodeBLocalCell::extraHsScchPowerForSrbOnHsdpa  NodeBLocalCell::extraPowerForSrbOnHsdpa  NodeBLocalCell::featCtrlFDpchSrbOnHsdpa                                                                                                                                      |

(1)   This attribute is used for basic HSDPA configuration. If feature HSDPA Flexible

Scheduler is operable, this attribute gets more possible value settings.

## 1.7 EUL Configuration

The Enhanced Uplink (EUL) configuration is performed by setting the required attributes

according to the MOM. For instructions on how to configure EUL, refer to Configure EUL.

For information about Baseband support and configuration of carriers, IQ streams, and carrier

allocation mode, refer to Radio Node Configurations.

Table 3 gives an overview of the features

and the attributes for configuring EUL. For information about which

features are licensed or basic, see documents Optional

Features and Basic Features in the WCDMA RAN library.

If no feature is specified for an attribute in Table 3, the attribute is used for basic EUL configuration

only.

Table 3   Attributes for Configuring EUL

| Feature                            | MO Class           | Attribute                 |
|------------------------------------|--------------------|---------------------------|
| N/A                                | NodeBFunction      | eulDchMaxAllowedSchRate   |
| N/A                                | NodeBFunction      | eulInactivityHighRateTime |
| N/A                                | NodeBFunction      | eulInactivityLowRateTime  |
| N/A                                | NodeBSectorCarrier | eulLockedNoiseFloor       |
| N/A                                | NodeBFunction      | eulLowRate                |
| N/A                                | NodeBFunction      | eulLowUsageTime           |
| N/A                                | NodeBLocalCell     | eulMaxNoSchEDch           |
| N/A                                | NodeBSectorCarrier | eulMaxOwnUuLoad           |
| N/A                                | NodeBSectorCarrier | eulMaxRotCoverage         |
| N/A                                | NodeBFunction      | eulMaxShoRate             |
| N/A                                | NodeBFunction      | eulMaxTotalProtectedRate  |
| N/A                                | NodeBLocalCell     | eulMinMarginCoverage      |
| N/A                                | NodeBLocalCell     | eulNoERgchGroups          |
| N/A                                | NodeBSectorCarrier | eulNoiseFloorLock         |
| N/A                                | NodeBFunction      | eulNonServHwRate          |
| N/A                                | NodeBFunction      | eulNoReschUsers           |
| N/A                                | NodeBFunction      | eulSchedulingWeight       |
| N/A                                | NodeBFunction      | eulTargetRate             |
| N/A                                | NodeBSectorCarrier | eulThermalLevelPrior      |
| N/A                                | NodeBLocalCell     | maxEAgchPowerDl           |
| N/A                                | NodeBLocalCell     | maxEAgchPowerDlTti2       |
| Downlink Power Control for EUL     | NodeBFunction      | featCtrlDlPowerControlEul |
| Downlink Power Control for EUL     | NodeBLocalCell     | eHichMinCodePower         |
| Downlink Power Control for EUL     | NodeBLocalCell     | maxUserEHichERgchPowerDl  |
| Downlink Power Control for EUL     | NodeBLocalCell     | maxUserEHichPowerDlTti2   |
| Downlink Power Control for EUL     | NodeBLocalCell     | qualityCheckPowerEHich    |
| Enhanced Uplink for FACH           | NodeBLocalCell     | featCtrlEulFach           |
| Enhanced Uplink for FACH           | NodeBFunction      | eulFachInitialRate        |
| Enhanced Uplink for FACH           | NodeBFunction      | eulFachMinAllocation      |
| Enhanced Uplink for FACH           | NodeBLocalCell     | eulFachMaxDcchDtchTime    |
| Enhanced Uplink Transmission, CPC  | NodeBLocalCell     | featCtrlCpc               |
| EUL Multi Carrier                  | NodeBLocalCell     | featCtrlEulMc             |
| EUL Multi Carrier                  | NodeBLocalCell     | eulMcActivationDelayTime  |
| EUL Single HARQ Process Scheduling | NodeBFunction      | eul2msFirstSchedStep      |
| EUL TD Scheduling                  | NodeBLocalCell     | eulMaxTdUsers             |
| EUL TD Scheduling                  | NodeBLocalCell     | eulTdSchedulingFactor     |
| Improved Layer 2                   | NodeBLocalCell     | featCtrlImprovedLayer2    |
| Interference Suppression           | NodeBFunction      | eulMaxAllowedSchRate (1)  |
| Narrowband Interference Rejection  | NodeBLocalCell     | featCtrlNbir              |
| Uplink Fast Congestion Control     | NodeBSectorCarrier | fccRotMarginHigh          |
| Uplink Fast Congestion Control     | NodeBSectorCarrier | fccRotMarginLow           |

(1)  This attribute is used for basic EUL configuration. If feature Interference

Suppression is operable, the recommended value settings are different.

## 1.8 Sector Carrier Power Configuration

Attribute configuredMaxTxPower in MO

class         NodeBSectorCarrier specifies the requested absolute power of the Sector

Carrier. By default, the output power is evenly distributed over the antenna connectors that

are allocated for the Sector Carrier and used for TX transmission. However, the operator can

change the distribution of the output power over the antenna connectors by setting the

txBranchAPower attribute in the NodeBSectorCarrier MO.

In radio units shared by multiple radio access technologies competing for the same radio

resources, the available output power is allocated to each unlocked sector carrier or TRX or

extension TRX in a first come first served principle until all available output power is used.

For instructions on how to configure requested absolute power of a Sector Carrier, see Configure Requested Power of Sector Carrier.

When a Local Cell is in operationalState

ENABLED, the following attributes show the allocated effect:

- availableHwOutputPower in MO class SectorEquipmentFunction. The sum of the hardware power capability for all radio hardware in the Sector.
- maxDlPowerCapability in MO class NodeBLocalCell. The maximum downlink power capability for the Local Cell.
- minDlPowerCapability in MO class NodeBLocalCell. The minimum downlink power capability for the Local Cell.
- txPowerPersistentLock in MO class NodeBSectorCarrier. The total TX output power can be locked by the txPowerPersistentLock attribute. Therefore, the unwanted total output power changes to a higher value can be prevented during normal operation. When txPowerPersistentLock is set to true, the following operations are prohibited: Changing the attributes configuredMaxTxPower and txBranchAPower Deleting the MO NodeBSectorCarrier Setting txPowerPersistentLock back to false If txPowerPersistentLock is set to true, a re-integration of the node is required to change the setting of the attribute and to change the value of the total output power.

## 1.9 Deterministic Cell Allocation

The operator can connect the Sector Carrier to the antenna system by setting up

references between the NodeBSectorCarrier MO and the

RfBranch/CcBranch or branches that are used; see Connect Sector Carrier to Antenna.

The operator specifies the TX and RX branch to RF and CC branch mapping by configuring

the rfBranchTxRef and the rfBranchRxRef attributes in the MO

class NodeBSectorCarrier. These

configurations give the user an opportunity to, for example, select antenna or antenna

polarization for a specific TX and RX carrier branches. The configuration of the rfBranchTxRef attribute is optional.

The configuration of the rfBranchRxRef attribute is optional in

most cases. In case of the Analog Cross Connect radio configuration using a CcBranch,

the user must configure the rfBranchRxRef. For more information see

Manage Hardware Equipment.

If the rfBranchTxRef and the rfBranchRxRef attributes are not set,

then the system automatically selects RF branches of the referenced sector. The RF

branches are selected based on their connection to free radio resources. Thus, the final

allocation of RF branches to carrier branches can vary.

## 1.10 Multi-Carrier Cell Matching

### 1.10.1 Multi Carrier and Dual-Band HSDPA Multi-Carrier features

The Multi Carrier and the Dual-Band HSDPA Multi-Carrier features enable the combination

of two HSDPA-enabled cells for one radio link. If the attributes multiCarrierPair1..6 are not set, the

automatic algorithm provides pairs to use with the Multi Carrier and the Dual-Band HSDPA

Multi-Carrier features.

For the Multi Carrier feature, multi-carrier pairs are created starting from the lowest

frequency within each band.

For the Dual-Band HSDPA Multi-Carrier feature, pairs are created with cells from

different bands, starting from the highest frequency in each band. The two

SectorEquipmentFunction MO instances referred to in a

dualBandSectorGroupX attribute are mapped to the cells that cover the same geographical

area, for the two different frequency bands.

This algorithm maximizes the use of both features, as shown in Figure 3.

Figure 3   Multi-Carrier Cell Matching, Potential Pairs

### 1.10.2 HSDPA Multi-Carrier 3 Carriers feature

The HSDPA Multi-Carrier 3 Carriers feature enable the combination of three HSDPA enabled

cells for one radio link. The automatic algorithm is always used to provide secondary

serving cell matching, hence the multiCarrierPair 1..6 attributes are

not used for the HSDPA Multi-Carrier 3 Carriers feature.

The secondary serving cell list for a primary serving cell is created starting from the

lowest frequency. All cells belonging to the same

SectorEquipmentFunction as the primary serving cell are added to

the list.

Figure 4 shows potential

secondary serving cell candidates for HSDPA Multi-Carrier 3 Carriers. Note that for

HSDPA Multi-Carrier 3 Carriers only the first configuration can be used.

Figure 4   MultiCarrier Cell Matching for 3 Carriers, Potential Pairs

## 1.11 Allocation of Cells to HSDPA Processing Resources

Allocating cells to specific HSDPA processing resources can be done by steered

allocation and by automatic allocation.

Normally, automatic allocation is used. Sometimes, manual procedures, Steered HS

Allocation, can be used.

Cell carriers are mapped to resources in one of the following ways:

- Automatic allocation. Cell carriers are distributed evenly among the configured HS resources. It is the simplest method.
- Steered allocation. Cells or combination of cells are pinpointed to specific HS resources by manual configurations. This method is used when certain cells share certain HS resources in a specific way. Using steered allocation is recommended for configurations where the number of HSDPA codes differs between the configured cells.

### 1.11.1 Automatic Allocation

Automatic allocation is the default option for the resource allocation. The RBS system

automatically allocates HSDPA cores evenly to local cells. No manual operation is

needed.

### 1.11.2 Steered Allocation

With Steered Allocation , HSDPA cores can be allocated manually for some cases. For the

using cases, see Scenarios of Steered Allocation.

With this method, operators need to figure out an allocation plan based on the node

traffic situation. HS cores are allocated by setting related attributes manually

according to the plan. To use this method, operators must have the following

competence:

- Analysis of node performance management data
- Analysis of current HSDPA core allocation
- Experience in node management through parameters and commands Note: Make sure that using the Steered HS Allocation does not have a negative impact on the traffic.

Related tasks

Configure Steered HS Allocation

Switch from Steered Allocation to Automatic Allocation

#### 1.11.2.1 Scenarios of Steered Allocation

Steered Allocation can be used in the following cases:

- Sectors in the same local cell group have different traffic load. One has high traffic load, while others have idle or low-loaded cores.
- The traffic load in one sector has a predictable sharp increase. For example, a new train station is planned in a sector located in an urban area, while other sectors are located in a rural area. The current automatic allocation distributes the available HS cores evenly over local cells.

If sectors in the same local cell group have different traffic load, the following

criteria can be used to judge if a sector serves extreme high traffic:

- HsDschResources::pmAllocRejHwDschUsers is higher than the adjacent cells and is above the acceptable level.
- The average number of HSDPA users in the cores allocated to this sector almost reaches 320 (on Baseband 6621/6631). This is the maximum number of HSDPA users that one core can support.

The maximum number of HSDPA users in one local cell allocated to one core is 128, which

is limited by the attribute NodeBLocalCell::maxNumHsdpaUsers. For

multiple local cells that shared the same core, the maximum number of HSDPA users on a

core is 320 on Baseband 6621/6631.

The average number of HSDPA users in one local cell can be calculated with the formula in

Figure 5.

Figure 5   Formula 1: Calculation of Average Number of HSDPA Users in One Local Cell

The average number of HSDPA users in one core (X) can be calculated with the formula in

Figure 6.

Figure 6   Formula 2: Calculation of Average Number of HSDPA Users in Core X

#### 1.11.2.2 Allocation Plan of HSDPA Processing Resource

An allocation plan of HSDPA processing resource shows the allocation of HSDPA cores to

the local cells.

Current Allocation State of HSDPA Processing Resource

The following attributes or formula specifies the current allocation state:

- NodeBLocalCellGroup::numberOfHsCores indicates how many HSDPA cores can be used in a local cell group.
- NodeBLocalCell::hsCoreId indicates the ID of the HSDPA core that is allocated to the local cell.
- The formulas in Scenarios of Steered Allocation calculate the average number of HSDPA users.

Allocation Plan of HSDPA Processing Resource

The allocation plan aims to allocate more HSDPA Cores to high-loaded sectors. The

following requirements must be met during the configuration:

- The value of NodeBLocalCell::steeredHsCoreId ranges from 0 to NodeBLocalCellGroup::numberOfHsCores - 1.
- A local cell is configured with only one HSDPA core.
- One HSDPA core is allocated to no more than 12 cells on Baseband 6621/6631.

How to Calculate the Number of Local Cells Using the Same Core

To improve the efficiency of HSDPA core usage, local cells belonging to the same

sector or sector group but allocated to different HS cores are mirrored on all the

cores. Thus, the number of cells on a core is the sum of all local cells in the

sectors or sector groups that use this core.

For example, in Table 5, Sector 3 includes

four local cells and these cells use two cores (Core 4 and Core 5). Then the number

of local cells on each core is four.

In Table 6, Sector 2 and Sector 3 include

four local cells respectively, and Core 4 is shared by two cells in Sector 2 and two

cells in Sector 3. Then, the number of local cells on Core 4 is eight, that is, the

sum of local cell numbers in both Sector 2 and Sector 3.

Example for Steered Allocation

The following example illustrates how to make an allocation plan. Table 4 shows the current state of resource

allocation in a local cell group, which is a 3 Ã— 4 site.

Table 4   Example: Current Allocation State of HSDPA Processing Resource

| Sector   | Core Allocated to the Sector   | Local Cell   |   Average Number of HSDPA Users in the Local Cell | pmAllocRejHwHsDschUsers   |   Average Number of HSDPA Users |   Maximum Number of HSDPA Users |
|----------|--------------------------------|--------------|---------------------------------------------------|---------------------------|---------------------------------|---------------------------------|
| Sector 1 | Core 0                         | S1C1         |                                                90 | > 0                       |                             150 |                             160 |
| Sector 1 | Core 0                         | S1C2         |                                                60 | >0                        |                             150 |                             160 |
| Sector 1 | Core 1                         | S1C3         |                                                90 | >0                        |                             150 |                             160 |
| Sector 1 | Core 1                         | S1C4         |                                                60 | > 0                       |                             150 |                             160 |
| Sector 2 | Core 2                         | S2C1         |                                                10 | = 0                       |                              20 |                             160 |
| Sector 2 | Core 2                         | S2C2         |                                                10 | =0                        |                              20 |                             160 |
| Sector 2 | Core 3                         | S2C3         |                                                25 | =0                        |                              55 |                             160 |
| Sector 2 | Core 3                         | S2C4         |                                                30 | = 0                       |                              55 |                             160 |
| Sector 3 | Core 4                         | S3C1         |                                                10 | = 0                       |                              30 |                             160 |
| Sector 3 | Core 4                         | S3C2         |                                                20 | =0                        |                              30 |                             160 |
| Sector 3 | Core 5                         | S3C3         |                                                15 | =0                        |                              30 |                             160 |
| Sector 3 | Core 5                         | S3C4         |                                                15 | = 0                       |                              30 |                             160 |

According to the criteria in Scenarios of Steered Allocation, Sector 1 serves

extreme high traffic while Sector 2 and Sector 3 are low-loaded.

Table 5 shows a proper re-allocation plan

to extend the maximum number of HSDPA users in Sector 1.

Table 5   Example: Supported RE-allocation Plan of HSDPA Processing Resource

| Sector   | Core   | Local Cells            |   Number of Local Cells Using the Same Core | Maximum Number of HSDPA Users After Steered Allocation   |
|----------|--------|------------------------|---------------------------------------------|----------------------------------------------------------|
| Sector 1 | Core 0 | S1C1                   |                                           4 | 416(1)                                                   |
| Sector 1 | Core 1 | S1C3                   |                                           4 | 416(1)                                                   |
| Sector 1 | Core 2 | S1C2, S1C4             |                                           4 | 416(1)                                                   |
| Sector 2 | Core 3 | S2C1, S2C2, S2C3, S2C4 |                                           4 | 160                                                      |
| Sector 3 | Core 4 | S3C1,S3C2              |                                           4 | 320                                                      |
| Sector 3 | Core 5 | S3C3,S3C4              |                                           4 | 320                                                      |

(1)

Only one cell is allocated to Core 0 and Core 1, the

maximum number of HSDPA users is 128 due to cell

capacity limitation. Two cells are allocated to Core 2,

the maximum number is 160 due to HS core capacity. In

total, the maximum number of HSDPA users is 416 (128

+128 + 160).

Table 6 shows another re-allocation

example, but the number of local cells is more than six on Core 4. Thus, this

example is unsupported.

Table 6   Unsupported Re-allocation Plan of HSDPA Processing Resource

| Sector   | Core   | Local Cells   |   Number of Local Cells Using the Same Core |   Maximum Number of HSDPA Users After Steered Allocation |
|----------|--------|---------------|---------------------------------------------|----------------------------------------------------------|
| Sector 1 | Core 0 | S1C1          |                                           4 |                                                      416 |
| Sector 1 | Core 1 | S1C3          |                                           4 |                                                      416 |
| Sector 1 | Core 2 | S1C2, S1C4    |                                           4 |                                                      416 |
| Sector 2 | Core 3 | S2C3, S2C4    |                                           4 |                                                      160 |
| Sector 2 | Core 4 | S2C1, S2C2    |                                           8 |                                                      160 |
| Sector 3 | Core 4 | S3C1, S3C2    |                                           8 |                                                      160 |
| Sector 3 | Core 5 | S3C3, S3C4    |                                           4 |                                                      160 |

Related concepts

Scenarios of Steered Allocation

# 2 Procedures

## 2.1 Configuration Flow

The configuration flow is a configuration file template that can be reused for

multiple nodes and a site-specific configuration file by populating the template file with

site-specific parameters.

Template files can be created by using the basic configuration method (automatic template

creation with the ECT), or by the advanced configuration method (creation of new XML

Netconf files). The preferred procedure is to use the basic configuration method, and,

if the required configuration is not supported by the tool, to edit the template file

with an XML editor.

With the basic configuration method there is no need to understand the MO structure when

preparing the template files or the site-specific files. However, it is necessary to

understand the MO structure for maintenance or troubleshooting purposes.

The ECT is described in more details in the Manage Equipment Configuration Tool document.

See Integrate Baseband Radio Node for instructions

on how to integrate  Manage Configuration Files for information on how to create

configuration files.

### 2.1.1 Radio Network Configuration File

Radio access configurations are specified in a configuration file that can be in a

Netconf or Bulk CM format. When using the Netconf format, the ECT can be used to

validate the file, and generate a template file based on the configuration.

When creating template files with the basic configuration method, the ECT generates the

required MO structure based on GUI input parameters.

Figure 7   MO Structure of Radio Network Settings

The ECT generates an MO structure with the following elements:

- ECT always creates one Iub, SctpProfile, NbapCommon,NbapDedicated, IubDataStreams MOs. Two SctpEndPoints MOs are created (one reserved for NbapDedicated and one for NbapCommon).
- For each cell in the GUI, one NodeBLocalCell MO instance is created.
- For each carrier in the GUI, one NodeBSectorCarrier MO instance is created.
- For each Baseband unit with allocated WCDMA cells, ECT creates one NodeBLocalCellGroup MO instance.

Table 7   Radio Network parameter Settings

| MO Class            | Instance Name                        |
|---------------------|--------------------------------------|
| NodeBFunction       | 1                                    |
| NodeBLocalCellGroup | 1                                    |
| NodeBLocalCell      | Cell_identity parameter in GUI       |
| NodeBSectorCarrier  | Carrier_identity parameter in GUI(1) |
| Iub                 | 1                                    |
| IubDataStreams      | 1                                    |
| NbapCommon          | 1                                    |
| NbapDedicated       | 1                                    |
| SctpProfile         | WCDMA                                |
| SctpEndpoint        | NBAP_Dedicated                       |
| SctpEndpoint        | NBAP_Common                          |

(1)

This is an optional parameter. If the parameter is not

set, the name of the SectorCarrier

instance is &lt;Cell identity&gt; S: &lt;Sector

identity&gt;.

## 2.2 Configure WCDMA Overview

Figure 8 shows  the workflow on how

to configure WCDMA and unlock Local Cells.

Figure 8   Workflow Configure WCDMA and Unlock Local Cells

The procedure to configure WCDMA and unlock Local Cells is performed

in the following order:

Steps

1. Create NodeBFunction MO, see Create NodeBFunction.
2. Create and configure Local Cell Group, see Create Local Cell Group.
3. Create and configure Local Cells, see Create Local Cell.
4. Create and configure Sector Carriers for the Local Cells, see Create Sector Carrier for Local Cell.
5. Create NBAP Bearer, see Create and Configure NBAP Bearer.
6. Activate the desired WCDMA features, see Optional Features and Basic Features in the WCDMA RAN library.
7. Unlock Local Cell Group, see Unlock Local Cell Group.
8. Unlock Local Cells, see Unlock Local Cell.

## 2.3 Create NodeBFunction

For EUL configuration information, see EUL Configuration. For instructions on how to configure

EUL, see Configure EUL Function.

To create NodeBFunction, do the following:

Steps

1. Create an instance of MO class NodeBFunction TOOLTIPFLAG with a unique nodeBFunctionId TOOLTIPFLAG under the ManagedElement TOOLTIPFLAG MO.
2. Configure the NodeBFunction TOOLTIPFLAG MO instance as required by setting attributes in MO class NodeBFunction TOOLTIPFLAG.

## 2.4 Configure Local Cell

### 2.4.1 Prerequisites for Local Cell Configuration

To be able to configure a Local Cell, ensure that the following

conditions are met

- Managed Object (MO) NodeBFunction exists. See section Create NodeBFunction.
- MO SectorEquipmentFunction exists and the required sectors are configured. MO SectorEquipmentFunction is created and the sectors are configured in the Site Equipment File during node integration, see Manage Configuration Files.

### 2.4.2 Create and Configure Local Cells

Figure 9 shows the workflow on how to create

and configure Local Cells.

Figure 9   Workflow Create and Configure Local Cell

The procedure to create and configure Local Cells is performed

in the following order:

Steps

1. Create a Local Cell Group as described in Create Local Cell Group.
2. Create a Local Cell in the Local Cell Group as described in Create Local Cell.
3. Create Sector Carriers for the Local Cell as described in Create Sector Carrier for Local Cell.
4. If additional Local Cells are required in the same Local Cell Group, repeat Step 2 to Step 3 for each additional Local Cell.
5. Unlock the Local Cell Group as described in Unlock Local Cell Group.
6. Unlock Local Cell as described in Unlock Local Cell.
7. If additional Local Cells are to be unlocked in the same Local Cell Group, repeat Step 6 for each additional Local Cell.

### 2.4.3 Delete Local Cell Group and All Local Cells in Local Cell Group

Figure 10 shows the workflow on how to

delete a Local Cell Group and all the Local Cells in the Local Cell

Group.

Figure 10   Workflow Delete Local Cell Group and All the Local Cells

in the Local Cell Group

The procedure to delete a Local Cell Group and all the Local Cells

in the Local Cell Group is performed in the following order:

Steps

1. Lock Local Cell as described in Lock Local Cell.
2. If any Local Cell in the Local Cell Group is UNLOCKED, repeat Step 1 for each UNLOCKED Local Cell.
3. Lock Local Cell Group as described in Lock Local Cell Group.
4. Delete Local Cell Group as described in Delete Local Cell Group.

### 2.4.4 Create or Delete Local Cell in an Existing Local Cell Group

Figure 11 shows the workflow

on how to create or delete a Local Cell in an existing Local Cell

Group.

Figure 11   Workflow Create or Delete a Local Cell in an Existing Local Cell Group

The procedure to create or delete a Local Cell in an existing Local

Cell Group is performed in the following order:

Steps

1. Lock Local Cell as described in Lock Local Cell.
2. If any Local Cell in the Local Cell Group is UNLOCKED, repeat Step 1 for each UNLOCKED Local Cell.
3. Lock the Local Cell Group as described in Lock Local Cell Group.
4. If delete Local Cell is required, follow the instructions in Delete Local Cell. Repeat for each Local cell to be deleted in the Local Cell Group. If create Local Cell is required, follow the instructions in Create Local Cell. Create Sector Carriers for the Local Cell as described in Create Sector Carrier for Local Cell. If additional Local Cells are required in the same Local Cell Group, repeat the instructions Create Local Cell and Create Sector Carrier for Local Cell for each additional Local Cell.
5. Unlock the Local Cell Group as described in Unlock Local Cell Group.
6. When the Local Cell is to be taken into traffic, unlock the Local Cell as described in Unlock Local Cell.
7. If additional Local Cells are to be unlocked in the same Local Cell Group, repeat Step 6 for each additional Local Cell.

### 2.4.5 Create Local Cell Group

For prerequisites, see Prerequisites for Local Cell Configuration.

To create a Local Cell Group, do the following:

Steps

1. Create an instance of MO class NodeBLocalCellGroup with a unique nodeBLocalCellGroupId under MO NodeBFunction.
2. If necessary, set attribute userLabel in MO NodeBLocalCellGroup. After creation, the Local Cell Group administrativeState is LOCKED.

### 2.4.6 Create Local Cell

Before creating a Local Cell, ensure that a Local Cell Group exists

and that it is locked.

For HSDPA configuration information, see HSDPA Configuration. For instructions on how to configure

HSDPA, see Configure HSDPA Function.

For EUL configuration information, see EUL Configuration. For instructions on how to configure

EUL, see Configure EUL Function.

To create a Local Cell, do the following:

Steps

1. Create an instance of MO class NodeBLocalCell with a unique nodeBLocalCellId under the corresponding NodeBLocalCellGroup MO. For attribute nodeBLocalCellId use the following naming convention: S&lt;sectorNumber&gt;C&lt;carrierNumber&gt; Example for a Local Cell with sector number 3 and carrier number 1: NodeBLocalCell=S3C1 Configure the NodeBLocalCell MO instance as required by setting attributes described in MO class NodeBLocalCell. The following attributes are mandatory: localCellId uarfcnDl operatingBand After creation, the Local Cell administrativeState is LOCKED.

### 2.4.7 Create Sector Carrier for Local Cell

Before creating a Sector Carrier, ensure that a Local Cell exists.

Ensure that the Local Cell and the corresponding Local Cell Group

are locked.

For EUL configuration information, see EUL Configuration. For instructions

on how to configure EUL, see Configure EUL Function.

For Sector Power configuration information, see Sector Carrier Power Configuration. For

instructions on how to configure requested absolute power of a Sector Carrier, see Configure Requested Power of Sector Carrier.

The number of sectors for a Local Cell is set by the SectorCarrier MO class. The value is

set at 1 in a normal cell case and 2 or 3 in a Combined Cell (multi) case.

To create one or multi sector carrier, do the following

Steps

1. Create an instance of MO class NodeBSectorCarrier with a unique nodeBSectorCarrierId under the corresponding NodeBLocalCell MO. Configure the NodeBSectorCarrier MO instance as required by setting attributes described in MO class NodeBSectorCarrier. The following attributes are mandatory: numOfRxAntennas numOfTxAntennas Note: Information about Pre-coder for power balancing is found in Configure Feature Pre-coder for Power Balancing, FAJ 121 1510. sectorEquipmentFunctionRef Note: This attribute is restricted.

### 2.4.8 Configure Requested Power of Sector Carrier

For Sector Carrier Power configuration information, see Sector Carrier Power Configuration.

To configure requested absolute power of a Sector Carrier, do the following:

Steps

1. Lock the Local Cell as described in Lock Local Cell.
2. Set the attribute configuredMaxTxPower in the NodeBSectorCarrier MO to the requested absolute power of the Sector Carrier. By default, this results in the output power evenly distributed over the antenna connectors that are allocated for the Sector Carrier and used for TX transmission. If more than one transmitter is used, the operator has the following options:
    - In order to modify the distribution of the output power over the antenna connectors, proceed with Step 3.
    - If the output power should be allocated evenly over the antenna connectors, proceed with Step 5.
3. Change the distribution of the output power over the antenna connectors by setting the txBranchAPower attribute in the NodeBSectorCarrier MO.
4. Optionally, map RF branches to the TX carrier branches in the sector carrier by setting the rfBranchTxRef attribute; see Connect Sector Carrier to Antenna.
5. Unlock the Local Cell as described in Unlock Local Cell. The attribute availableHwOutputPower in MO class SectorEquipmentFunction specifies the sum of the hardware power capability for all radio hardware in the Sector.

### 2.4.9 Connect Sector Carrier to Antenna

Connect the Sector Carrier to the

antenna

system by setting up references between the NodeBSectorCarrier MO and the

RfBranch/CcBranch or branches that are used:

Steps

1. Lock the Local Cell as described in Lock Local Cell.
2. Specify the TX or RX branch to RF or CC branch mapping by performing at least one of the two actions:
    - In order to specify TX branch to RF branch connection, configure the rfBranchTxRef attribute in the MO instance of the sector carrier in question; see Figure 2.The list of the RfBranch MOs must contain as many entries as the number of TX antennas used in the sector carrier. The first referred RfBranch MO is allocated to the TX carrier branch number one, the second referred RfBranch MO is allocated to TX carrier branch number two and so on. Only RfBranch referred to in the associated SectorEquipmentFunction MO can be used.
    - In order to specify RX branch to RF or CC branch connection, configure the rfBranchRxRef attribute in the MO instance of the sector carrier in question; see Figure 2.The list of the RfBranch and CcBranch MOs must contain as many entries as the number of RX antennas used in the sector carrier. The first referred RfBranch or CcBranch MO is allocated to the RX carrier branch number one, the second referred MO is allocated to RX carrier branch number two and so on. Only RfBranch and CcBranch MOs referred to in the associated SectorEquipmentFunction MO can be used.
3. Unlock the Local Cell as described in Unlock Local Cell.

### 2.4.10 Unlock Local Cell Group

A Local Cell Group can be unlocked if it contains a least one Local

Cell.

To unlock a Local Cell Group, do the following:

Steps

1. Set attribute administrativeState for the NodeBLocalCellGroup MO instance to UNLOCKED.
2. Verify that the administrativeState is UNLOCKED.

### 2.4.11 Unlock Local Cell

A Local Cell can be unlocked if the Local Cell Group it belongs to is unlocked.

Before unlocking a Local Cell, ensure that MO IubDataStreams is created. If not, the Local

Cell is not enabled at unlock.

If the node runs in power saving mode and the number of unlocked cells exceeds the limits

of the capacity that the power saving mode requires, then the Power Saving Capacity Limit

Exceeded alarm is raised when the cells are unlocked. To cease the alarm, refer to Power Saving Capacity Limit Exceeded. For more information about

power saving mode, refer to Manage Hardware Equipment.

To unlock a Local Cell, do the following:

Steps

1. Set attribute administrativeState for the NodeBLocalCell MO instance to UNLOCKED.
2. Verify that the administrativeState is UNLOCKED.
3. Verify that the operationalState is ENABLED.

Results

- On Baseband 6621 and Baseband 6631, an additional node restart can happen in case the applied configuration requires it.
- The Baseband unit which the Local Cell and the Local Cell Group belong to can be checked by the attributes NodeBLocalCell::hostingDigitalUnit and NodeBLocalCellGroup::hostingDigitalUnit.

### 2.4.12 Lock Local Cell

To lock a Local Cell, do the following:

Steps

1. Set attribute administrativeState for the NodeBLocalCell MO instance to LOCKED.
2. Verify that the administrativeState is LOCKED.
3. Verify that the operationalState is DISABLED. It can take a few minutes until the Local Cell operationalState is DISABLED, if a UTRAN cell setup was using the Local Cell.

### 2.4.13 Lock Local Cell Group

A Local Cell Group can be locked if all Local Cells in the Local

Cell Group are locked. How to lock a Local Cell, see Lock Local Cell.

To lock a Local Cell Group, do the following:

Steps

1. Set attribute administrativeState for the NodeBLocalCellGroup MO instance to LOCKED.
2. Verify that the administrativeState is LOCKED.

### 2.4.14 Delete Sector Carrier

To be able to delete a Sector Carrier, the corresponding Local

Cell and Local Cell Group must be locked. This means that all the

Local Cells in that Local Cell Group must be locked. How to lock a

Local Cell, see Lock Local Cell. How to lock a Local

Cell Group, see Lock Local Cell Group.

To delete a Sector Carrier, do the following:

Steps

1. Delete the NodeBSectorCarrier MO instance corresponding to the Sector Carrier to be deleted.

### 2.4.15 Delete Local Cell

To be able to delete a Local Cell, the corresponding Local Cell

Group must be locked. This means that all the Local Cells in that

Local Cell Group must be locked. At NodeBLocalCell deletion, all NodeBLocalCell child MOs

are deleted.

To delete a Local Cell, do the following:

Steps

1. Delete the NodeBLocalCell MO instance corresponding to the Local Cell to be deleted.

### 2.4.16 Delete Local Cell Group

To be able to delete a Local Cell Group, the corresponding Local

Cells and Local Cell Group must be locked. At NodeBLocalCellGroup deletion, all NodeBLocalCellGroup child

MOs are deleted.

To delete a Local Cell Group, do the following:

Steps

1. Delete the NodeBLocalCellGroup MO instance corresponding to the Local Cell Group to be deleted.

### 2.4.17 Reconfigure Local Cell and Sector Carrier

For HSDPA configuration information, see HSDPA Configuration. For instructions on how to configure

or reconfigure HSDPA, see Configure HSDPA Function.

For EUL configuration information, see EUL Configuration. For instructions on how to configure

or reconfigure EUL, see Configure EUL Function.

Choose one of these procedures, depending on which attributes are

to be reconfigured:

- Reconfigure attribute sectorEquipmentFunctionRef in MO class NodeBSectorCarrier, see Reconfigure Attribute sectorEquipmentFunctionRef.
- Reconfigure attribute localCellId in MO class NodeBLocalCell, see Reconfigure Attribute localCellId and cellRange.
- Reconfigure attribute cellRange in MO class NodeBSectorCarrier, see Reconfigure Attribute localCellId and cellRange.
- Reconfigure non-restricted attributes in the MO classes NodeBLocalCell and NodeBSectorCarrier, see Reconfigure Non-Restricted Attributes.

#### 2.4.17.1 Reconfigure Attribute sectorEquipmentFunctionRef

To be able to reconfigure the restricted attribute sectorEquipmentFunctionRef, the NodeBSectorCarrier MO instance must be deleted and created again, with the new configuration.

To reconfigure attribute sectorEquipmentFunctionRef, do the following:

Steps

1. Lock the Local Cell corresponding to the Sector Carrier to be reconfigured, as described in Lock Local Cell.
2. Lock all other Local Cells in the same Local Cell Group as the Local Cell to be reconfigured, as described in Lock Local Cell.
3. Lock the corresponding Local Cell Group as described in Lock Local Cell Group.
4. Delete the Sector Carriers that contains the sectorEquipmentFunctionRef attribute to be reconfigured, as described in Delete Sector Carrier.
5. Create Sector Carrier with the new configuration, as described in Create Sector Carrier for Local Cell.
6. If additional Sector Carriers are to be created in the same Local Cell Group, repeat the instructions in Create Sector Carrier for Local Cell for each additional Sector Carrier.
7. Unlock the Local Cell Group as described in Unlock Local Cell Group.
8. When the Local Cell in the Local Cell Group is to be taken into traffic, unlock the required Local Cell in the Local Cell Group as described in Unlock Local Cell.

#### 2.4.17.2 Reconfigure Attribute localCellId and cellRange

Attribute

localCellId

reconfiguration takes effect when the Local Cell is IDLE, that is, not set up by the RNC. That is achieved:

- When the UtranCell in the RNC is locked.
- When the Local Cell is locked.

In

the instruction that follows, the Local Cell is put in

usageState

IDLE by locking the Local Cell.

Attribute

cellRange

reconfiguration takes effect at next cell setup, that is:

- At UtranCell unlock in the RNC.
- At unlock Local Cell.

In the instruction that follows, the reconfiguration is performed

by locking, reconfiguring, and unlocking the Local Cell.

To reconfigure attribute

localCellId

or

cellRange, or both, in an existing Local Cell, do the

following:

Steps

1. Lock the Local Cell as described in Lock Local Cell.
2. If necessary, reconfigure attribute localCellId TOOLTIPFLAG in the MO instance NodeBLocalCell TOOLTIPFLAG that corresponds to the Local Cell.
3. If necessary, reconfigure attribute cellRange TOOLTIPFLAG in the MO instance(s) NodeBSectorCarrier TOOLTIPFLAG that corresponds to the Sector Carrier(s) in the Local Cell.
4. When the Local Cell is to be taken into traffic again, unlock the Local Cell as described in Unlock Local Cell.

#### 2.4.17.3 Reconfigure Non-Restricted Attributes

For instructions on how to reconfigure HSDPA, see Configure HSDPA Function. For instructions on how to reconfigure

EUL, see Configure EUL Function.

For Sector Carrier Power configuration information, see Sector Carrier Power Configuration.

For instructions on how to configure or reconfigure requested absolute power of a Sector

Carrier, see Configure Requested Power of Sector Carrier.

To be able to reconfigure non-restricted attributes in MO classes NodeBLocalCell and NodeBSectorCarrier, the Local Cell must be locked, since some

attribute reconfigurations take effect at Local Cell unlock.

To reconfigure non-restricted attributes in an existing Local Cell,

do the following:

Steps

1. Lock the Local Cell as described in Lock Local Cell.
2. Reconfigure the required attributes in MO instance NodeBLocalCell that corresponds to the Local Cell.
3. If necessary, reconfigure attributes in the MO instance(s) NodeBSectorCarrier that corresponds to the Sector Carrier(s) in the Local Cell.
4. When the Local Cell is to be taken into traffic, unlock the Local Cell as described in Unlock Local Cell.

## 2.5 Configure NBAP Bearer

### 2.5.1 Prerequisites for NBAP Bearer Configuration

To be able to configure an NBAP Bearer, ensure that the following

conditions are met:

- Managed Object (MO) NodeBFunction exists.
- MO AddressIPv4 exists.
- MO SctpEndpoint exists. One SctpEndpoint MO instance for NBAP Common and one SctpEndpoint MO instance for NBAP Dedicated.

### 2.5.2 Create and Configure NBAP Bearer

Figure 12 shows the workflow

on how to create and configure NBAP Bearer.

Figure 12   Workflow Create and Configure NBAP Bearer

The procedure to create and configure NBAP Bearer is performed

in the following order:

Steps

1. Create Iub as described in Create Iub.
2. Create Iub Data Streams as described in Create Iub Data Streams.
3. Create NBAP Common as described in Create NBAP Common.
4. Create NBAP Dedicated as described in Create NBAP Dedicated.

### 2.5.3 Create Iub

For prerequisites, see Prerequisites for NBAP Bearer Configuration.

To create Iub, do the following:

Steps

1. Create an instance of MO class Iub with a unique iubId under MO NodeBFunction. Configure the Iub MO instance as required by setting attributes described in MO class Iub. The following attributes are mandatory: ipv4Address. A reference to the AddressIPv4 MO instance, which is used to carry the frame protocol. rbsId. Used by OSS to identify a Node B and the corresponding Iub in RNC.

### 2.5.4 Create Iub Data Streams

An IubDataStreams MO instance can be created if an Iub MO instance

exists.

For HSDPA configuration information, see HSDPA Configuration. For instructions on how to configure

HSDPA, see Configure HSDPA Function.

To create Iub Data Streams, do the following:

Steps

1. Create an instance of MO class IubDataStreams with a unique iubDataStreamsId under the Iub MO. Configure the IubDataStreams MO instance as required by setting attributes described in MO class IubDataStreams.

### 2.5.5 Create NBAP Common

An NbapCommon MO instance can be created if an Iub MO instance

exists.

To create NBAP Common, do the following:

Steps

1. Create an instance of MO class NbapCommon TOOLTIPFLAG with a unique nbapCommonId TOOLTIPFLAG under the Iub TOOLTIPFLAG MO. Configure the NbapCommon TOOLTIPFLAG MO instance as required by setting attributes described in MO class NbapCommonTOOLTIPFLAG. The following attribute is mandatory: sctpEndpointRefTOOLTIPFLAG. A reference to an SctpEndpoint TOOLTIPFLAG MO, which corresponds to the end point for NBAP common procedure messages. Attribute sctpEndpointRef in MO NbapCommon and MO NbapDedicated refers to different SctpEndpoint TOOLTIPFLAG MO instances. Note: This attribute is restricted.

### 2.5.6 Create NBAP Dedicated

An NbapDedicated MO instance can be created if an Iub MO instance

exists.

To create NBAP Dedicated, do the following:

Steps

1. Create an instance of MO class NbapDedicated with a unique nbapDedicatedId under the Iub MO. Configure the NbapDedicated MO instance as required by setting attributes described in MO class NbapDedicated. The following attribute is mandatory: sctpEndpointRef. A reference to an SctpEndpoint MO, which corresponds to the end point for NBAP dedicated procedure messages. Attribute sctpEndpointRef in MO NbapCommon and MO NbapDedicated refers to different SctpEndpoint MO instances. Note: This attribute is restricted.

### 2.5.7 Delete NBAP Dedicated

Before MO NbapDedicated can be deleted, it must be in operationalState

DISABLED. This can be achieved

by locking the MO IubLink in the RNC.

To delete NBAP Dedicated, do the following:

Steps

1. Delete the NbapDedicated MO instance. After deletion, the relation between NbapDedicated and SctpEndpoint is removed.

### 2.5.8 Delete NBAP Common

Before MO NbapCommon can be deleted, it must be in

operationalState DISABLED. This can be achieved by locking the MO

IubLink in the RNC.

To delete NbapCommon:

Steps

1. Delete the NbapCommon MO instance. After deletion, the relation between NbapCommon and SctpEndpoint is removed and all Local Cells are released in the RBS.

### 2.5.9 Delete Iub Data Streams

To delete Iub Data Streams, do the following:

Steps

1. Delete the IubDataStreams MO instance.

### 2.5.10 Delete Iub

At Iub deletion, all Iub child MOs are deleted.

Before the child MOs NbapDedicated and NbapCommon can be deleted,

they must be in operationalState

DISABLED. This can be achieved by locking the MO IubLink in the RNC.

To delete Iub, do the following:

Steps

1. Delete the Iub MO instance.

### 2.5.11 Reconfigure NBAP Bearer

To reconfigure restricted attributes, delete the corresponding

Iub, IubDataStreams, NbapCommon, or NbapDedicated MO instance and

create it again, with the new configuration.

For HSDPA configuration information, see HSDPA Configuration. For instructions on how to configure

HSDPA, see Configure HSDPA Function.

To reconfigure existing NBAP Bearer, do the following:

Steps

1. Perform the required changes on attributes in the Iub TOOLTIPFLAG MO instance.
2. Perform the required changes on attributes in the IubDataStreams TOOLTIPFLAG MO instance.
3. Perform the required changes on attributes in the NbapCommon TOOLTIPFLAG MO instance.
4. Perform the required changes on attributes in the NbapDedicated TOOLTIPFLAG MO instance.

## 2.6 Configure HSDPA

### 2.6.1 Configure HSDPA Function

Table 1 and Table 2 gives an overview of the functions, features

and the attributes for configuring HSDPA.

To configure the HSDPA function, do the following:

Steps

1. Set the relevant HSDPA attributes at MO NodeBLocalCell creation, see Create Local Cell.
2. Set the relevant HSDPA attributes at MO IubDataStreams creation, see Create Iub Data Streams. Attribute values are ignored until any corresponding feature is activated. For information about how to configure and activate each feature, see respective Configure Feature &lt;featureName&gt; &lt;FAJ-number&gt; section. For information on which feature an attribute belongs to, see Table 2.

### 2.6.2 Allocate HSDPA Processing Resources

#### 2.6.2.1 Configure Steered HS Allocation

Figure 13 shows how to enable the Steered HS Allocation function and manually allocate

HSDPA cores.

Figure 13   Workflow of Steered HS Allocation Configuration

Prerequisites

- The operator has the competence described in Steered Allocation.
- An allocation plan is available.
- Local cells in the same local cell group are all unlocked and enabled.

Steps

1. Set NodeBLocalCellGroup::featCtrlSteerHsAllocation to ON to enable Steered HS Allocation.
2. Lock all the local cells as described in Lock Local Cell.
3. Lock the corresponding local cell group as described in Lock Local Cell Group.
4. Set NodeBLocalCell::steeredHsCoreId according to the allocation plan.
5. Unlock the local cell group as described in Unlock Local Cell Group.
6. Unlock the local cells as described in Unlock Local Cell.
7. Unlock the corresponding UTRAN cells in the RNC.

Related concepts

Steered Allocation

#### 2.6.2.2 Switch from Steered Allocation to Automatic Allocation

Figure 14 shows how to switch from steered allocation to automatic allocation.

Figure 14   Workflow of Switching from Steered Allocation to Automatic Allocation

Prerequisites

Local cells in the same local cell group are all unlocked and enabled.

Steps

1. Set NodeBLocalCellGroup::featCtrlSteerHsAllocation to OFF to disable Steered Allocation.
2. Lock all the local cells as described in Lock Local Cell.
3. Lock the local cell group as described in Lock Local Cell Group.
4. Unlock the local cell group as described in Unlock Local Cell Group.
5. Unlock all the local cells as described in Unlock Local Cell.
6. Unlock the corresponding UTRAN cells in the RNC.

Related concepts

Automatic Allocation

Steered Allocation

## 2.7 Configure EUL

### 2.7.1 Configure EUL Function

Table 3 gives an overview of the features

and the attributes for configuring EUL. The EUL attributes are set

at creation of relevant MO.

To configure the EUL function, do the following:

Steps

1. Set the relevant EUL attributes at MO NodeBFunction creation, see Create NodeBFunction.
2. Set the relevant EUL attributes at MO NodeBLocalCell creation, see Create Local Cell.
3. Set the relevant EUL attributes at MO NodeBSectorCarrier creation, see Create Sector Carrier for Local Cell. Attribute values are ignored until any corresponding feature is activated. For information about how to configure and activate each feature, see respective Configure Feature &lt;featureName&gt; &lt;FAJ-number&gt; section. For information on which feature an attribute belongs to, see Table 3.

## 2.8 Configure Features

### 2.8.1 Configure Feature 4-Way Receiver Diversity, FAJ 121 1351, CXC 402 0018

To configure feature 4-Way Receiver Diversity, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. More information about the feature is found in EUL Migration and Activation in the WCDMA RAN library.
2. Set the NodeBSectorCarrier.numOfRxAntennas attribute to 4 in the local cells where the feature is going to be activated.

### 2.8.2 Configure Feature Additional CE Extension for EUL, FAJ 121 4613, CXC 402 0103

To configure the Additional CE Extension for EUL feature, do the following:

Steps

1. Activate the feature on node level, for information, see Manage Licenses and Hardware Activation Codes in the Baseband Radio Node library. For more information about the feature, see Additional CE Extension for EUL in the WCDMA RAN library.

### 2.8.3 Configure Feature Battery Efficiency for High Speed FACH, FAJ 121 1592, CXC 402 0055

To configure feature Battery Efficiency for High Speed FACH, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Set attribute extraCompEnhUeDrx in MO NodeBLocalCell to the additional compensation applied to the converted Channel Quality Indicator (CQI) value used for Transport Format and Resource Combination (TFRC) selection when data for the Enhanced UE Discontinuous Reception (DRX) users are transmitted.
3. Set attribute extraHsScchCompEnhUeDrx in MO NodeBLocalCell to the additional compensation applied to the High Speed Shared Control Channel (HS-SCCH) power calculated with the converted CQI value when data for the Enhanced UE DRX users are transmitted.
4. Activate the feature on node level as described in Manage Licenses and Hardware Activation Codes.
5. Activate the feature on cell level by setting attribute featCtrlEnhUeDrx to ON for the desired NodeBLocalCell MO instances.

### 2.8.4 Configure Feature CE Extension for EUL, FAJ 121 2598, CXC 402 0069

To configure feature CE Extension for EUL, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. More information about the feature is found in EUL Migration and Activation in the WCDMA RAN library.

### 2.8.5 Configure Feature Channel Element Efficiency for EUL, FAJ 121 3214, CXC 402 0075

To configure feature Channel Element Efficiency for EUL, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. Takes effect after node restart. More information about the feature is found in Channel Element Efficiency for EUL in the WCDMA RAN library.

### 2.8.6 Configure Feature Channel Element Capacity for EUL Smartphones, FAJ 121 1883, CXC 402 1014

To configure feature Channel Element Capacity for EUL Smartphones, do the

following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. Takes effect after node restart. More information about the feature is found in EUL Migration and Activation in the WCDMA RAN library.

### 2.8.7 Configure Feature Combined Cell, FAJ 121 3249, CXC 402 0076

To configure and activate the Combined Cell feature, do the following:

Steps

1. Make sure licenses for the prerequisite features are activated and no features that conflict with WCDMA Combined Cell are activated.
2. All SectorCarrier MO classes within a Combined Cell must be created and configured in one MO transaction. Note: The attributes that shall match in all sector carriers in a Combined Cell must be changed in a single MO transaction For a list of features which cannot be used in conjunction with the WCDMA Combined Cell feature, as well as information on configuring the SectorCarrier MO class for Combined Cell, see Combined Cell in the LTE RAN library.

### 2.8.8 Configure Feature EUL Single HARQ Process Scheduling, FAJ 121 1443, CXC 402 0030

To configure feature EUL Single HARQ Process Scheduling, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. Takes effect after node restart. More information about the feature is found in Enhanced UL Scheduler in the WCDMA RAN library.

### 2.8.9 Configure Feature EUL TD Scheduling, FAJ 121 1503, CXC 402 0039

To configure the feature EUL TD Scheduling, do the following:

Steps

1. Activate the feature on the node level as described in Manage Licenses and Hardware Activation Codes.
2. Set the attribute eulMaxTdUsers in MO NodeBLocalCell to define the maximum number of simultaneous TD users in a cell.
3. Set the attribute eulTdSchedulingFactor in MO NodeBLocalCell to define the increase in the user priorities for EUL TD scheduled users over CDM users.

### 2.8.10 Configure Feature Downlink Power Control for EUL, FAJ 121 1345

This basic feature is active by default. If desired, this feature can be deactivated

by the following attribute settings:

- Set the featCtrlDlPowerControlEul attribute to OFF in the NodeBFunction MO.

To configure the Downlink Power Control for EUL feature, do the following:

Steps

1. Set the eHichMinCodePower attribute in the NodeBLocalCell MO to the minimum downlink power in a cell to be used for an individual E-HICH on 10 ms Transmission Time Interval (TTI). Note that the minimum power for 2 ms TTI users is 6 dB higher than the value given by the eHichMinCodePower attribute.
2. For 2 ms TTI, set the maxUserEHichPowerDlTti2 attribute in the NodeBLocalCell MO to the maximum power for E-HICH relative to Common Pilot Channel (CPICH) for serving Enhanced Dedicated Channel (E-DCH) Radio Links. The E-HICH power for non-serving Radio Links is fixed to the value of the maxUserEHichPowerDlTti2 attribute. If this feature is disabled, the E-HICH power for 2 ms TTI is fixed to the value of the maxUserEHichPowerDlTti2 attribute.
3. For 10 ms TTI, set maxUserEHichERgchPowerDl attribute in the NodeBLocalCell MO to the maximum power for E-HICH relative to CPICH for serving E-DCH Radio Links. The E-HICH power for non-serving Radio Links is fixed to the value of the maxUserEHichERgchPowerDl attribute. The E-DCH Relative Grant Channel (E-RGCH) power, for both 2 ms TTI and 10 ms TTI, is fixed to the value of the maxUserEHichERgchPowerDl attribute. If this feature is disabled, the E-HICH power for 10 ms TTI is fixed to the value of the maxUserEHichERgchPowerDl attribute.
4. Set the NodeBLocalCell.qualityCheckPowerEHich attribute to the offset to be used in E-HICH power.

### 2.8.11 Configure Feature Dual-Band HSDPA Multi-Carrier, FAJ 121 1490, CXC 402 0036

To configure feature Dual-Band HSDPA Multi-Carrier, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Ensure that the attributes dualBandSectorGroup1..[number of sectors] in MO class NodeBFunction are set in accordance with the number of sectors configured in the node. Each of the dualBandSectorGroup1..6 attributes must contain a reference to a SectorEquipmentFunction MO instance in each band that covers the same geographical area. Changing the dualBandSectorGroup1..6 attributes takes effect at next unlock of the Local Cell Group, as described in Unlock Local Cell.
3. Use the automatic matching for secondary cells by leaving the multiCarrierPair1...6 attributes in MO NodeBLocalCellGroup empty. The automatic matching algorithm is described in Multi Carrier and Dual-Band HSDPA Multi-Carrier features. Setting any of the multiCarrierPair1...6 attributes disables the automatic matching for all cells. Changing the multiCarrierPair1...6 attributes takes effect at next unlock of the Local Cell Group.
4. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
5. Ensure that the primary and secondary cells for each pair have the same values for the following attributes:
    1. NodeBLocalCell.queueSelectAlgorithm
    2. NodeBLocalCell.airRateTypeSelector
    3. NodeBLocalCell.schPrioForAbsResSharing
    4. NodeBLocalCell.schMaxDelay
    5. NodeBLocalCell.schWeight
    6. NodeBLocalCell.minBitRate
    7. NodeBLocalCell.minBitRateMinCqi
6. Ensure that the following is valid for all cells intended to be used for Dual-Band HSDPA Multi-Carrier configurations, both serving and secondary cells:
    1. Feature Enhanced Layer 2 is ACTIVATED. For instructions on how to activate Feature Enhanced Layer 2, see Configure Feature Enhanced Layer 2, FAJ 121 1328, CXC 402 0013.
    2. Attribute administrativeState is UNLOCKED and attribute operationalState is ENABLED in MO Hsdsch in the corresponding UtranCells in the RNC.
7. Activate the feature on cell level by setting attribute featCtrlHsdpaDbMc to ON for the desired NodeBLocalCell MO instances. Activation of the feature takes effect on new connections.
8. If configuration of multiCarrierPair1...6 is performed, lock and unlock the corresponding Local Cell Group for the configuration to take effect. How to lock Local Cell Group is described in Lock Local Cell Group. How to unlock the Local Cell Group is described in Unlock Local Cell Group.
9. Confirm that the feature is active in the intended serving cells by checking that attribute hsdpaDbMcCapability in the corresponding NodeBLocalCell MO is set to HSDPA\_DB\_MC\_CAPABLE. The RNC can then use this cell as the primary when setting up radio links with the Dual-Band Multi-Carrier configuration.

### 2.8.12 Configure Feature Enhanced Layer 2, FAJ 121 1328, CXC 402 0013

To configure feature Enhanced Layer 2, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlEnhancedLayer2 to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections.

### 2.8.13 Configure Feature Enhanced Uplink for FACH, FAJ 121 1652, CXC 402 0064

To configure feature Enhanced Uplink for FACH, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlEulFach to ON for the desired NodeBLocalCell MO instances.

### 2.8.14 Configure Feature Enhanced Uplink Introduction Package, FAJ 121 1023, CXC 402 0005

To configure the Enhanced Uplink Introduction Package feature, do the following:

Steps

1. Ensure that the basic EUL attributes listed in Table 3 in EUL Configuration are configured.
2. Activate the feature on node level, for information, see Manage Licenses and Hardware Activation Codesin the Baseband Radio Node library.

### 2.8.15 Configure Feature Enhanced Uplink Transmission, CPC, FAJ 121 1389 and Enhanced Downlink Reception, CPC, FAJ 121 1476, CXC 402 0026

To configure feature Enhanced Uplink Transmission, CPC and Enhanced Downlink

Reception, CPC, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlCpc to ON for the desired NodeBLocalCell MO instances.

### 2.8.16 Configure Feature Enhanced Uplink, 2ms TTI, FAJ 121 1317, CXC 402 0011

To configure feature Enhanced Uplink, 2ms TTI, do the following:

Steps

1. Activate the feature on node level, for information, see Manage Licenses and Hardware Activation Codes in the Baseband Radio Node library.

### 2.8.17 Configure Feature EUL Low Latency Prescheduling, FAJ 121 3941, CXC 402 0086

To configure the EUL Low Latency Prescheduling feature, do the following:

Steps

1. Activate the feature on node level, for information, see Manage Licenses and Hardware Activation Codes in the Baseband Radio Node library. It takes effect immediately. For more information about the feature, see EUL Low Latency Prescheduling in the WCDMA RAN library.

### 2.8.18 Configure Feature EUL Multi Carrier, FAJ 121 1491, CXC 402 0037

To configure feature EUL Multi Carrier, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses and Hardware Activation Codes.
3. Activate the feature on cell level by setting attribute featCtrlEulMc to ON for the desired NodeBLocalCell MO instances. Takes effect immediately.
4. If the cell acts as a primary E-DCH cell, the neighboring cell on the corresponding secondary carrier exists, and the neighboring cell on the primary carrier does not exist, set attribute eulMcActivationDelayTime to 20 for the desired NodeBLocalCell MO instances.

### 2.8.19 Configure Feature F-DPCH, FAJ 121 1481, and Feature SRB on HSDPA, FAJ 121 1320, CXC 402 0025

To configure feature F-DPCH and SRB on HSDPA, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the features is ENABLED.
2. If desired, set attribute extraPowerForSrbOnHsdpa in MO NodeBLocalCell to the desired extra power used for sending the data during a HSDPA TTI which includes SRB data. Relative to the output from the HS scheduler. The recommended value is the default value.
3. If desired, set attribute extraHsScchPowerForSrbOnHsdpa in MO NodeBLocalCell to the desired extra power used for HS-SCCH for a user with SRB on HS. Relative to the output from the HS-SCCH power control. The recommended value is the default value.
4. Activate the features on node level as described in Manage Licenses in the Baseband Radio Node library.
5. Activate the features on cell level by setting attribute featCtrlFDpchSrbOnHsdpa to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections.

### 2.8.20 Configure Feature High Speed Downlink for FACH, FAJ 121 1537, CXC 402 0043

To configure feature High Speed Downlink for FACH, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Set attribute extraCompHsFach in MO NodeBLocalCell to the additional compensation applied to the converted CQI value used for TFRC selection when data for the High Speed Forward Access Channel (HS-FACH) user is transmitted. A HS-FACH user is a UE which is in Radio Resource Control (RRC) state CELL\_FACH (on RNC level) and is using transport channel HS-DSCH and not FACH.
3. Set attribute extraHsScchCompHsFach in MO NodeBLocalCell to the additional power compensation applied to the HS-SCCH power calculated with the converted CQI value when data for the HS-FACH user is transmitted.
4. Set attribute extraCompForSigHsFach in MO NodeBLocalCell to the additional compensation applied to the converted CQI value used for TFRC selection when the signaling data for Dedicated Control Channel (DCCH) and Common Control Channel (CCCH) for the HS-FACH user is transmitted.
5. Set attribute extraHsScchCompForSigHsFach in MO NodeBLocalCell to the additional power compensation applied to the HS-SCCH power calculated with the converted CQI value when the signaling data for DCCH and CCCH for the HS-FACH user is transmitted.
6. Set attribute throughputPqxHsdpaFach in MO NodeBLocalCell to the throughput bandwidth set for the common priority queues for Dedicated Traffic Channel (DTCH) when data for a HS-FACH user is transmitted, defined per Scheduling Priority Indicator (SPI). The first value in the sequence is for SPI 0 and the last one is for SPI 14.
7. Set attribute defaultCqiHsFach in MO NodeBLocalCell to the CQI value used for the transmission of the Broadcast Control Channel (BCCH) specific H-RNTI when data for a HS-FACH user is transmitted. Radio Network Temporary Identity (RNTI) temporarily identifies UE. H-RNTI is RNTI for HSDPA.
8. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
9. Activate the feature on cell level by setting attribute featCtrlHsFach to ON for the desired NodeBLocalCell MO instances.

### 2.8.21 Configure Feature HSDPA Dynamic Code Allocation, FAJ 121 967, CXC 402 0001

To configure feature HSDPA Dynamic Code Allocation, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlHsdpaDynamicCodeAllocation to ON for the desired NodeBLocalCell MO instances. Takes effect immediately.

### 2.8.22 Configure Feature HSDPA Dynamic Power Sharing, FAJ 121 3698, CXC 402 0079

To configure feature HSDPA Dynamic Power Sharing, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Ensure that the cell supports dynamic power sharing by checking that attribute hsdpaPowerSharingCapability in the desired NodeBLocalCell MO instance is HSDPA\_POWER\_SHARING\_CAPABLE.
3. Set attribute powerSharingMaxTransmissionPower in MO NodeBFunction to the maximum allowed transmission power for the cell.
4. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
5. Activate the feature on cell level by setting attribute featCtrlHsdpaPowerSharing to ON for the desired NodeBLocalCell MO instances. Takes effect immediately.

### 2.8.23 Configure Feature HSDPA Flexible Scheduler, FAJ 121 968, CXC 402 0003

To configure feature HSDPA Flexible Scheduler, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Set attribute queueSelectAlgorithm in MO NodeBLocalCell to the required scheduling algorithm to be used in the Local Cell. This attribute is used for basic HSDPA configuration. If feature HSDPA Flexible Scheduler is operable, this attribute gets more possible value settings. More information is found in HSDPA User Plane in the WCDMA RAN library.
3. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.

### 2.8.24 Configure Feature HSDPA Incremental Redundancy, FAJ 121 1058, CXC 402 0008

To configure feature HSDPA Incremental Redundancy, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlHsdpaIncrementalRedundancy to ON for the desired NodeBLocalCell MO instances. Takes effect immediately.

### 2.8.25 Configure Feature HSDPA Minimum Bit Rate Scheduling, FAJ 121 1439, CXC 402 0028

To configure

feature HSDPA Minimum Bit Rate Scheduling, do the

following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. Takes effect immediately.
3. Configure the minimum bit rate by setting the attributes minBitRate andminBitRateMinCqi to the desired values for the corresponding NodeBLocalCell MO instances. Takes effect immediately.

### 2.8.26 Configure Feature HSDPA Mixed Mode Dynamic Power Sharing, FAJ 121 4609, CXC 402 0102

To configure feature HSDPA Mixed Mode Dynamic

Power Sharing, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Ensure that the cell supports dynamic power sharing by checking that attribute hsdpaMmPowerSharingCapability in the desired NodeBLocalCell MO instance is HSDPA\_MM\_POWER\_SHARING\_CAPABLE.
3. Set attribute extraPowerHsdpaMixedMode in MO DlPowerSharing to the maximum power borrowed from other RAT. Note: Setting this parameter, a lower value than the highest possible one can be configured. If that is not necessary, this configuration can be omitted.
4. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
5. Activate the feature on cell level by setting attribute featCtrlHsdpaMmPowerSharing to ON for the desired NodeBLocalCell MO instances. Takes effect immediately.

### 2.8.27 Configure Feature HSDPA Multi-Carrier 3 Carriers, FAJ 121 3909, CXC 402 0082

To configure feature HSDPA Multi-Carrier 3 Carriers, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
3. Activate the feature on cell level by setting attribute featCtrlHsdpa3Mc to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections. More information about the feature is found in HSDPA Multi-Carrier 3 Carriers in the WCDMA RAN library.

### 2.8.28 Configure Feature HSDPA RBR QoS Profiling, FAJ 121 11515, CXC 402 0053

To configure

feature HSDPA RBR QoS Profiling, do the

following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. Takes effect immediately.
3. Configure the relative bit rate profiling by setting the attributes hsRbrWeight and hsRbrDiscardProbability to the desired values for the corresponding lubDataStreams MO instances. Takes effect immediately.

### 2.8.29 Configure Feature HSDPA TN Optimization, FAJ 121 895

To configure feature HSDPA TN Optimization, do the following:

Steps

1. Set attribute maxHsRate in MO IubDataStreams to the required maximum HSDPA bit rate over Iub. More information about maxHsRate configuration and RNC attribute configuration is found in HSDPA Flow Control in the WCDMA RAN library.
2. Set attribute hsDataFrameDelayThreshold in MO IubDataStreams to the required maximum transport network buffer build-up delay, the dynamic delay. More information about hsDataFrameDelayThreshold configuration and RNC attribute configuration is found in HSDPA Flow Control in the WCDMA RAN library.

### 2.8.30 Configure Feature Improved Layer 2, FAJ 121 1516

To configure feature Improved Layer 2, do the following:

Steps

1. Activate the feature on cell level by setting attribute featCtrlImprovedLayer2 to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections. More information about the feature is found in EUL Migration and Activation in the WCDMA RAN library.

### 2.8.31 Configure Feature Interference Suppression, FAJ 121 1714, CXC 402 0061

To configure feature Interference Suppression, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Set attribute eulMaxAllowedSchRatein MO NodeBFunction to the maximum allowed scheduled data rate per user. More information about the feature is found in Interference Suppression in the WCDMA RAN library.
3. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.

### 2.8.32 Configure Feature Interference Suppression for all Bearers, FAJ 121 2370, CXC 402 0065

To configure feature Interference Suppression for all Bearers, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. More information about the feature is found in Interference Suppression for all Bearers in the WCDMA RAN library.

### 2.8.33 Configure Feature Interference Suppression for EUL 10 ms, FAJ 121 2671, CXC 402 0070

To configure feature Feature Interference Suppression for EUL 10 ms, do the

following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. More information about the feature is found in Interference Suppression for EUL 10 ms in the WCDMA RAN library.

### 2.8.34 Configure Feature Mixed Mode Radio WCDMA, FAJ 121 1553, CXC 402 0051

Steps

1. How to configure a WCDMA Baseband Radio Node for Mixed Mode Radio is described in Manage Mixed Mode Radio. More information about the feature is found in Mixed Mode Radio in the WCDMA RAN library.

### 2.8.35 Configure Feature Multi Carrier, FAJ 121 1441, CXC 402 0029

To configure feature Multi Carrier, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Use the automatic matching for secondary cells by leaving the multiCarrierPair1...6 attributes in MO NodeBLocalCellGroup empty. The automatic matching algorithm is described in Multi Carrier and Dual-Band HSDPA Multi-Carrier features. Setting any of the multiCarrierPair1...6 attributes disables the automatic matching for all cells. Changing the multiCarrierPair1...6 attributes takes effect at next unlock of the Local Cell Group.
3. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
4. Ensure that the primary and secondary cells for each pair have the same values for the following attributes:
    1. queueSelectAlgorithm in MO NodeBLocalCell.
    2. airRateTypeSelector in MO NodeBLocalCell.
    3. schPrioForAbsResSharing in MO NodeBLocalCell.
    4. schMaxDelay in MO NodeBLocalCell.
    5. schWeight in MO NodeBLocalCell.
    6. minBitRate in MO NodeBLocalCell.
    7. minBitRateMinCqi in MO NodeBLocalCell.
5. Ensure that the following is valid for all cells intended to be used for Multi Carrier configurations, both serving and secondary cells:
    1. Feature Enhanced Layer 2 is ACTIVATED. For instructions on how to activate Feature Enhanced Layer 2, see Configure Feature Enhanced Layer 2, FAJ 121 1328, CXC 402 0013.
    2. Attribute administrativeState is UNLOCKED and attribute operationalState is ENABLED in MO Hsdsch in the corresponding UtranCells in the RNC.
6. Activate the feature on cell level by setting attribute featCtrlHsdpaMc to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections.
7. If configuration of multiCarrierPair1..6 is performed, lock and unlock the corresponding Local Cell Group for the configuration to take effect. How to lock Local Cell Group is described in Lock Local Cell Group. How to unlock the Local Cell Group is described in Unlock Local Cell Group.
8. Confirm that the feature is active in the intended serving cells by checking that attribute hsdpaMcCapability in the corresponding NodeBLocalCell MO is set to HSDPA\_MC\_CAPABLE. The RNC can then use this cell as the primary when setting up radio links with the Multi-Carrier configuration.

### 2.8.36 Configure Feature Multi Carrier Inactivity Control, FAJ 121 1445, CXC 402 0032

To configure the feature Multi Carrier Inactivity Control, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. If other value than default is desired, set attribute hsdpaMcActivityBufferThreshold in MO NodeBLocalCell to the required amount of data in Multi Carrier (MC) Priority Queue (PQ) data buffer. Used to re-activate secondary serving HS-DSCH cell for UE in MC mode when it is deactivated. If multiple MC PQs belong to the same UE any data buffer can contain required amount of data to perform re-activation.
3. If other value than default is desired, set attribute hsdpaMcInactivityTimer in MO NodeBLocalCell to the required time of empty MC PQ data buffer in order to deactivate the secondary serving HS-DSCH cell for a UE in MC mode. In the case of multiple MC PQs belonging to the same UE all data buffers should be empty during the required time to perform the deactivation.
4. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.
5. Activate the feature on cell level by setting attribute featCtrlHsdpaMcInactCtrl to ON for the desired NodeBLocalCell MO instances. Takes effect on new connections.

### 2.8.37 Configure Feature Narrowband Interference Rejection, FAJ 121 3908, CXC 402 0081

To configure feature Narrowband Interference Rejection, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Activate the feature on node level as described in Manage Licenses and Hardware Activation Codes.
3. Activate the feature on cell level by setting attribute featCtrlNbir to ON for the desired NodeBLocalCell MOs. For the radio units listed in the Limitation section in Narrowband Interference Rejection and more than one WCDMA carrier for each radio, hardware limitations apply. When the nbirAlgorithm attribute is set to GENERIC\_NBIR or ADAPTIVE\_NOTCH\_NBIR, owing to the hardware limitation, NBIR can only be activated for one WCDMA carrier for each Radio Frequency (RF) branch, namely the first WCDMA carrier configured and set up on that radio. In this case, substitute Step 3 with the following steps:
    1. Make sure that all cells on the radio unit are locked.
    2. Activate the feature on cell level by setting attribute featCtrlNbir to ON for the desired NodeBLocalCell MOs.
    3. Unlock the chosen cell first.
    4. Continue to unlock the remaining cells in the radio unit.

Results

For more information about supported radios for Baseband, see RBS Configurations.

### 2.8.38 Configure Feature Pre-coder for Power Balancing, FAJ 121 1510

This basic feature enables mapping transmissions associated with one Local Cell carrier

configured with two TX branches. If the feature is not activated, each Local Cell carrier is

mapped to one TX branch.

The pre-coder function is used in Local Cell carriers configured with multiple TX branches

and benefit as follows:

- When using a two TX-branch radio it is possible to fully utilize the available power since all cells are distributed over (and use power from) both TX-branches. Without the pre-coder each cell is mapped to one branch or the other, so for an odd number of branches a fraction of the power will remain unused.

The Pre-coder for power balancing feature is activated by the following

settings:

- Set RBS attribute numOfTxAntennas in MO class NodeBSectorCarrier to 2.
- Set RNC attribute transmissionScheme in MO class UtranCell to SINGLE\_ANTENNA.

The  RBS attribute numOfTxAntennas is set at the sector carrier creation. As a result, to reconfigure

a sector carrier not using the pre-coder to activate the pre-coder,

the following steps must be performed:

Steps

1. Lock the corresponding UtranCell in the RNC.
2. Lock the corresponding Local Cell, see Lock Local Cell.
3. Set attribute numOfTxAntennas in MO class NodeBSectorCarrier to 2.
4. Set RNC attribute transmissionScheme in MO class UtranCell to SINGLE\_ANTENNA.
5. Unlock Local Cell, see Unlock Local Cell.
6. Unlock the corresponding UtranCell in the RNC.

### 2.8.39 Configure Feature 4TX Support for One WCDMA Carrier, FAJ 121 5381

This basic feature enables mapping transmissions associated with one Local Cell

carrier configured with four TX branches. If the feature is not activated, each

Local Cell carrier is mapped to one or two TX branches.

To activate 4TX Support for One WCDMA Carrier, do the following:

Prerequisites

The following features are deactivated:

- Combined Cell (FAJ 121 3249)
- Combined Cell for Small Cell Deployments (FAJ 121 4792)

Steps

1. Set the NodeBSectorCarrier::numOfTxAntennas parameter to 4.
2. Lock and unlock the corresponding local cell.

### 2.8.40 Configure Feature RTT Positioning, FAJ 121 436, CXC 402 0010

To configure feature RTT positioning, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses and Hardware Activation Codes.

### 2.8.41 Configure Feature Support for 64 QAM, FAJ 121 1331, CXC 402 0014

To configure feature Support for 64 QAM, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.

### 2.8.42 Configure Feature UL Efficiency - DCH/EUL Load Balancing, FAJ 121 1584, CXC 402 0054

To configure feature UL Efficiency - DCH/EUL Load Balancing, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.

### 2.8.43 Configure Feature Uplink Coordinated Multi-Point Reception, FAJ 121 4187, CXC 402 0091

To configure feature Uplink Coordinated Multi-Point Reception, do the following:

Steps

1. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library. More information about the feature is found in Uplink Coordinated Multi-Point Reception in the WCDMA RAN library.

### 2.8.44 Configure Feature Uplink Fast Congestion Control, FAJ 121 2444, CXC 402 0066

To configure feature Uplink Fast Congestion Control, do the following:

Steps

1. Ensure that the corresponding license key is installed by checking that attribute licenseState in the FeatureState MO instance for the feature is ENABLED.
2. Set attribute fccRotMarginHigh in MO NodeBSectorCarrier to the RoT (Rise over Thermal) margin relativeeulMaxRotCoverage that defines the Uplink Fast Congestion Control high RoT threshold for stabilizing the sector carrier RoT by control of EUL serving cell traffic.
3. Set attribute fccRotMarginLowin MO NodeBSectorCarrier to the RoT margin relative eulMaxRotCoverage that defines the Uplink Fast Congestion Control low RoT threshold for stabilizing the sector carrier RoT by control of EUL serving cell traffic.
4. Activate the feature on node level as described in Manage Licenses in the Baseband Radio Node library.

### 2.8.45 Configure Feature Multi-Sector Per Radio, FAJ 121 4160, CXC 402 0090

This section describes how to configure multiple sectors on one radio.

#### 2.8.45.1 Reconfigure the Single Sector Per Radio

The single sector per radio must be reconfigured before the configuration of the

Multi-Sector Per Radio feature.

To reconfigure the single sector per radio before configuring the Multi-Sector Per

Radio feature, do the following:

Steps

1. Lock the NodeBLocalCell MO.
2. Lock the SectorEquipmentFunction MO.
3. Update NodeBSectorCarrier MO with the desired RF branches to remain on the defined sector.
4. Update SectorEquipmentFunction MO with the desired RF branches to remain on the defined sector.
5. Unlock the SectorEquipmentFunction MO.
6. Unlock NodeBLocalCell MO.

#### 2.8.45.2 Create Sectors

Sectors are created for the Multi-Sector Per Radio feature.

To create sectors for the Multi-Sector Per Radio feature, do the following:

Steps

1. Create an RfBranches MO instance for a new sector.
2. Set the rfPortRef attribute to the wanted RfPort on the FieldReplaceableUnit MO.
3. Create a SectorEquipmentFunction MO instance.
4. Set the rfBranchRef attribute to the desired RfBranches MO instance.
5. Create a NodeBSectorCarrier MO instance.
6. Repeat Step 1-Step 5 to create more sectors. Note: The feature can be configured on the following radio configurations: One 4TX/4RX radio A radio group of one 2TX/2RX radio and one 0TX/2RX radio One 1TX/1RX radio One 6TX/6RX radio A radio group of two 6TX/6RX radios

#### 2.8.45.3 Configure Multi-Sector Per Radio

The additional configuration is needed for the Multi-Sector Per Radio

feature.

To configure the Multi-Sector Per Radio feature, do the following:

Steps

1. Create a NodeBLocalCell MO instance for each sector created in Create Sectors.
2. Activate the Multi-Sector Per Radio feature. Note: If the feature is configured on a radio group, feature activation is not a must.
3. Unlock the SectorEquipmentFunction MO.
4. Unlock the NodeBLocalCell MO.

## 2.9 Delete NodeBFunction to Remove WCDMA

WCDMA can be removed from the node, to make node resources available

for other Radio Access Technologies (RAT), for example LTE.

To remove WCDMA from the node, do the following:

Steps

1. If a UTRAN cell is using the WCDMA Local Cell in the RBS, lock the MO UtranCell in the RNC .
2. Lock the MO IubLink in the RNC.
3. Lock all the WCDMA Local Cells, for instructions see Lock Local Cell.
4. Lock all the WCDMA Local Cell Group, for instructions see Lock Local Cell Group.
5. Delete the NodeBFunction MO instance.
6. Restart the Baseband unit, as described in section Restart Unit in Manage Hardware Equipment.
7. Configure the other RAT, for example LTE. Refer to document Manage Radio Network for LTE.