---
complexity_score: 36.5
converted_at: '2025-08-13T06:58:49.968203Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 9
images_saved: 3
original_path: 15_1553-LZA7016014_1Uen.FU.html
pictures_extracted: 9
processing_method: docling_multimodal
quality_score: 9.0
source_file: 15_1553-LZA7016014_1Uen.FU.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 52
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Manage Software

Baseband Radio Node

Contents

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)

- Descriptions
    - Network Level Software Management
    - Supported Hardware and Configurations
    - Software Inventory
    - Disk Use
    - Upgrade
    - Backup and Restore Information
    - Logs
- Procedures
    - Software Upgrade
    - Perform Backup and Restore
    - Handling Logs

# 1 Descriptions

## 1.1 Network Level Software Management

For network level Software (SW) management, refer to document SHM, Software

Hardware Manager, User Guide.

## 1.2 Supported Hardware and Configurations

Software for the Baseband Radio Node is delivered in a software product called an Upgrade

Package (UP).

The Table 1 table shows the hardware units

that are supported for the CXP 201 0174/2 UP.

Table 1   Supported RAN Compute Units

|   RAN Compute Group | RAN Compute Unit                                                                                                                                                                                       |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   4 | Baseband 6621     Baseband 6631     Radio Processor 6507                                                                                                                                               |
|                   5 | Baseband 6641     Baseband 6648     RAN Processor 6647     RAN Processor 6651     Radio Processor 6337     Radio Processor 6339     Radio Processor 6347     Radio Processor 6353     Streetmacro 6705 |
|                   6 | RAN Processor 6655     RAN Processor 6672     Radio Processor 6355     Radio Processor 6372                                                                                                            |

The following configurations are supported for the CXP 201 0174/2 Upgrade Package:

- NR Low-Band
- NR Mid-Band
- NR High-Band
- LTE anchor nodes in NSA configuration
- Mixed Mode (N+L)
- ESS
- LTE FDD
- LTE TDD
- Massive MIMO FDD
- Massive MIMO TDD
- Massive IoT
- WCDMA
- GSM
- MSME (L+W+G)
- CPRI-based radios
- eCPRI-based radios

## 1.3 Software Inventory

SW inventory provides information about the SW available on the Managed Element (ME).

Attribute

active

in Managed Object (MO) class

SwInventory

shows the SW version currently running on the ME. The active

SW version controls the behavior of the ME.

An MO of class

SwVersion

shows the content of

the Upgrade Package (UP).

An MO of class

SwItem

shows the content of a

Load Module Container (LMC). An LMC contains a number of executable

SW products. Attribute

consistsOf

describes any hierarchical

relationship between SW items.

The SW Inventory is updated during SW upgrade.

Action removeSoftwareVersion is not

valid for this product. A UP can be removed from the node by initiating

action removeUpgradePackage in MO class

SwM

, see Remove Upgrade Package from Node.

## 1.4 Disk Use

Disk space and disk use are determined by several factors.

Disk use depends on the following factors:

- The model of the Baseband unit
- The connected radio units Note: Disk use often increases with each additional type of radio unit configured in the node. Radio units of the same type normally only need one LMC downloaded on the disk.
- The number of installed upgrade packages

During preinstallation, a maximum of two upgrade packages can be saved on the disk. After

the UpgradePackage.prepare action is performed, up to three upgrade

packages can be saved on the disk.

The amount of software downloaded from an upgrade package depends on the difference

between the to-state and the from-state upgrade package.

Depending on the used RAN Compute groups, software downloaded from upgrade packages is

handled differently when it comes to the location on the disk. Some RAN Compute groups

include a UP archive disk area, which is a pooled area also used for logs and backups.

Backups can be can be deleted to free up more disk space. For more information on

deleting backups, see Delete Backup Manually.

RAN Compute groups use the disk areas described in Table 2.

Table 2   Disk Areas

| RAN Compute Groups         | Software Area   | UP Archive   |
|----------------------------|-----------------|--------------|
| RAN Compute groups 4 and 5 | X               | X            |
| RAN Compute group 6  (1)   | X               | N/A          |

(1)

RAN Compute group 6 has a bigger disk with a bigger software

area.

It is recommended to run

PREINSTALL

health check rules to determine the amount of available disk

space. It is also

recommended to run PREUPGRADE health check rules to determine if all necessary software

is downloaded successfully. PREINSTALL and PRUPGRADE health check rules can be

used by following the procedure described in Ensure Enough Disk Space for Upgrade Packages. For more information on health check rules, see Manage Node Health Check.

## 1.5 Upgrade

### 1.5.1 System Upgrade Overview

A system upgrade includes both software and hardware upgrades. A software upgrade

causes a restart.

System upgrade is an upgrade of the software or hardware in the node, or both. Before

upgrading hardware, the node must be prepared to support the new hardware. An update of

Field Replaceable Unit (FRU) configuration data and other equipment configuration data

can be needed. See child MO classes of MO class Equipment.

At the start of the upgrade procedure, the user must select the node to upgrade. After

the node is selected, the upgrade packages are applied on request. The LKF for the

upgrade procedure is requested using the Software Hardware Manager (SHM) interface. When

the LKF is received, the SHM validates the nodes eligible for the LKF request.

The

SHM shows the status of the LKF process in the GUI. The SHM expands the LKF response

files and stores them on the SMRS when the upgrade process is completed.

Software upgrade of the node causes a restart, which disturbs traffic. The software

upgrade can succeed or fail. If it fails, the node automatically performs a fallback and

restores the system. If the upgrade process is interrupted, only the parts of the

upgrade package that were not downloaded before are downloaded when there is no

interruption any longer.

A software upgrade can be a soft upgrade or a hard

upgrade. A soft upgrade tries to hand over ongoing traffic to neighbor cells during the

upgrade. A hard upgrade does not try to hand over ongoing traffic to neighbor cells

during the upgrade. Soft upgrade has a longer duration than hard upgrade due to the

traffic handover attempt.

In order to perform a soft upgrade in NR, the NR Cell Soft Lock feature must be activated

on the node. For more information,see NR Cell Soft Lock and NR Soft Upgrade.

A new LKF can be installed before or after the software upgrade. For more information

regarding licenses, see Manage Licenses and Hardware Activation Codes.

Alternatively, the upgrade can be managed using the Instantaneous Licensing feature. For

more information, see Instantaneous Licensing.

Some software management actions can take from a few minutes up to several hours to

complete. If the node loses power during an ongoing action, it restarts and restores the

consistent state that existed before the action was started.

### 1.5.2 Upgrade Package

An upgrade package is a collection of software that contains fault corrections, adds new

functions, or both. Upgrade packages are not specific to individual nodes.

An upgrade package on the node is represented by the UpgradePackage MO

instance.

Do!

Use an unpacked upgrade package for all integration cases.

Up to three upgrade packages can be stored on the node, including the active one. If this

limit is exceeded, one or more existing upgrade packages must be removed to add an upgrade

package. Health check

rules can be used to determine if enough disk space is available for a software upgrade. For

more information on health check rules, see Manage Node Health Check.

Upgrade Package in ENM

All existing UpgradePackage MO instances and their related software

package are preserved in ENM to ensure that expansion and recovery is possible.

An upgrade package has one of the following statuses in the Software Hardware Manager (SHM) GUI:

| LOCKED         |    | The status of an upgrade package imported to the radio node. The expiry date of the                 upgrade package is set to 14 days from the date of import by default. The user can                 manually lock an upgrade package from the SMH GUI until a future date.                                                                                                                           |
|----------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                |    |                                                                                                                                                                                                                                                                                                                                                                                                         |
| NETWORK LOCKED |    | The status of a new upgrade package installed on the radio node. Upgrade packages                 in the NETWORK LOCKED status cannot be unlocked by the user.                                                                                                                                                                                                                                          |
|                |    |                                                                                                                                                                                                                                                                                                                                                                                                         |
| UNLOCKED       |    | The status of an upgrade package that is removed from network. Upgrade packages in                 the LOCKED status that reach their expiry date without any recorded                 activity are set to the UNLOCKED status. Upgrade packages in the                   NETWORK LOCKED status are set to UNLOCKED by the                 ENM if the upgrade package is no longer part of the network. |

All upgrade packages in the UNLOCKED status are deleted by the ENM

housekeeping mechanism once every day. Housekeeping is only performed if the number of

imported upgrade packages in the SHM exceeds the limit set in the ENM, which is 48 by

default. Upgrade packages that are in the LOCKED or NETWORK

LOCKED status are not deleted.

The user can configure the following properties in ENM:

- Time of housekeeping
- Maximum number of upgrade packages
- Number of days before expiry

Related tasks

Remove Upgrade Package from Node

### 1.5.3 Software Upgrade

Software upgrades are divided into the following actions initiated by the operator:

1. SwM.createUpgradePackage The action downloads the Upgrade Package (UP) metadata to the node from a Secure File Transfer Protocol (SFTP) or FTPES server.
2. UpgradePackage.prepare The action downloads the required UP files to the node from the SFTP or FTPES server.
3. UpgradePackage.verify The action verifies the ability of the node to activate the current UP. The action can return warnings about continuing the upgrade.
4. UpgradePackage.activate The action activates the current UP. The action is performed without break points. Note: It is recommended to perform the UpgradePackage.activate action during low traffic hours, as it disturbs traffic. At the initial stage of the action, radio software is loaded to all connected radio units. This stage is indicated by double-flashing of the optical indicators on the radio units. The radio software can be distributed in parallel or in sequence. The system automatically determines the distribution mode depending on the number of radio types in the configuration and the available disk space. Note: Sequential loading prolongs the UpgradePackage.activate action. This might affect network rollout times and batch planning might need adjustments. Sequential loading does not prolong service downtime. During the UpgradePackage.activate action, Baseband Radio Nodes in GSM mode notifies the BSC to attempt to move the GSM traffic to the neighboring cells automatically before the upgrade restart within the activation phase.
5. UpgradePackage.confirm The UpgradePackage.confirm action confirms the upgrade. If the UpgradePackage.confirm action is not initiated during the fallback time period, a fallback is started and traffic is disturbed. The duration of the fallback timer is specified in the SwM.fallbackTimer attribute.

The progress of each action is shown in the corresponding

SwM.reportProgress attribute or in the

UpgradePackage.reportProgress attribute.

The current state of the UP is shown in the UpgradePackage.state

attribute.

Ongoing actions can be canceled by manually initiating the corresponding

SwM.cancel action or the UpgradePackage.cancel action.

Cancellation stops the ongoing action and restores the node to the consistent state before the

action started.

The system creates a backup during the UpgradePackage.activate action. The

backup is used for fallback.

Upgrade to an older software version is not supported. If an older software version is

required, the node must be restored from a backup.

If the software is downgraded during the installation process, the SW Downgrade

Alert is raised. For more information about the alert, see SW Downgrade Alert.

If the software is changed to a different software version track during, after, or because of

a software upgrade, the SW Version Track Change Alert is raised.

For more information about the alert, see SW Version Track Change Alert.

PREINSTALL health

check

rules are recommended to be used any time before performing the

UpgradePackage.prepare action. PREUPGRADE health check rules are

recommended to be used any time between performing the

UpgradePackage.prepare and the UpgradePackage.activate

actions. For more information on health check management, see Manage Node Health Check.

### 1.5.4 Remove Upgrade Package from Node

An upgrade package can be removed from the node by initiating the

SwM.removeUpgradePackage action. This action removes the

UpgradePackage MO and all the files associated with the upgrade

package.

The progress of the SwM.removeUpgradePackage action is shown in the

UpgradePackage.reportProgress attribute.

Removing an upgrade package from the node does not disturb traffic and can be performed

during normal operation. The upgrade package that corresponds to the currently-used SW cannot

be removed. An upgrade package with a backup depending on it cannot be removed until the

backup is deleted.

Instructions on how to remove an upgrade package from the node are provided in Remove Upgrade Package from Node.

### 1.5.5 Network Loader Upgrade

The Network Loader can be upgraded on the Baseband Radio Node using a USB memory

stick. As a result, the upgrade procedure during integration becomes faster.

If a Baseband Radio Node has a USB port, it is possible to upgrade the Network Loader to

the latest software version from a USB memory stick. The Network Loader package on the

USB memory stick is encrypted. Once the Network Loader package is downloaded to the

node, it is decrypted with the key loaded on the node in the factory.

Related tasks

Preload Upgrade Package Using USB Memory Stick

Related Information

Upgrade Network Loader

## 1.6 Backup and Restore Information

Instructions on how to perform backup and restore are provided in Perform Backup and Restore.

The backup function can back up software version, configuration, and other data. The restore

function can restore the node from a backup.

The backups in the node can be exported to an external backup server to increase robustness

against failures in the node. The backups can be created, exported, and deleted manually or

automatically. The operator can configure automatic backups as single, periodic, or periodic

calendar-based scheduled backup events. Housekeeping is configured for automatically and

manually created backups to limit the number of stored backups in the node.

The restore function can be manually or automatically initiated. If the system malfunctions,

backup restore is used to revert to a previous software or data configuration. If the system

fails, backup restore is used as an automatic recovery mechanism. See Manage

Faults.

If the software is downgraded during the installation process for restoring backup

information, the SW Downgrade Alert is raised. For more information about the alert, see SW Downgrade Alert.

If the software is changed to a different software version track during, after, or because of

backup restoration, the SW Version Track Change Alert is raised. For more information about

the alert, see SW Version Track Change Alert.

The following actions for manual backups are supported:

- Configure housekeeping for manual backups.
- Manually create a backup.
- Manually delete a backup.
- Manually import a backup.
- Manually export a backup.
- Manually restore the node from a backup.
- Cancel an ongoing action.

Use the BrmBackupScheduler MO to configure automatic backup. The following

types of backup events can be scheduled:

- Single, scheduled backup event
- Periodic scheduled backup event, based on the calendar
- Periodic scheduled backup event

The following actions for automatic backups are supported:

- Configure the backup scheduler.
- Configure automatic export of scheduled backups.
- Configure scheduled backup events.
- Cancel an existing scheduled backup event.
- Suspend the backup scheduler. No more scheduled backup events are triggered as long as the backup scheduler is in locked state.
- Resume the backup scheduler by unlocking the backup scheduler.
- View when the next scheduled backup event is triggered, if any.

Related concepts

Perform Backup and Restore

### 1.6.1 System-Created Backups

The system can create backups, for example, during the upgrade procedure. Housekeeping for

system-created backups is handled by the system. There are system-created backups that are not

referred to by the failsafe backup function or the restore escalation list. These backups are

as follows:

- Not categorized by the system as the protected backups.
- Can be removed by the operator at any time. Otherwise these backups are removed by the system automatically after one hour from the backup creation.

### 1.6.2 Backup Label Store

The BrmBackupLabelStore MO class provides the following information:

- Last restored backup
- Last created backup
- Last exported backup
- Last imported backup
- Restore escalation list

If the node fails, automatic recovery attempts are performed. For more information on

automatic recovery, see Manage Faults.

### 1.6.3 Failsafe Backup Function

The failsafe backup function can be used when reconfiguring sensitive parts of the node. The

failsafe backup function prevents losing the O&amp;M access to the node.

Before activating the function, the operator sets a rollback timer. When the failsafe backup

function is activated, the system creates a temporary backup and starts the rollback timer. If

the rollback timer expires, this backup is used and the system is automatically restored.

After an automatic restore from backup, the failsafe backup function is automatically

deactivated.

If the operator performes a successful reconfiguration, the operator deactivates the failsafe

backup function within the predefined rollback time period.

If the system is restarted while the failsafe backup function is active, the rollback timer

is stopped. After the restart the rollback timer continues the countdown.

When the failsafe backup function is deactivated, the rollback timer is stopped and the

backup created at the function activation is removed.

Related tasks

Manage Failsafe Backup Function

### 1.6.4 Signed Software Certificate Revocation and Anti-Rollback

Ericsson

software is protected from intrusion by digital signatures. Digital

signatures are recognized by Ericsson hardware, so that the unit must have authorized

software. In exceptional circumstances, Ericsson can revoke the certificates that are used to

verify the digital signatures. New certificates are then introduced in a new Upgrade Package

(UP) delivered by Ericsson.

Certificate revocation is done by the following procedure:

- A new UP containing a certificate revocation list and new certificates is delivered from Ericsson.
- A grace period is initiated when the upgrade is confirmed. Note: New UPs cannot be activated during the grace period. The duration of the grace period is defined by the SwSigningCertM.crlGracePeriodTimer parameter.
- The operator is informed that the grace period is ongoing by the Software Management CRL Pending alarm.
- The SwSigningCertM.crlGracePeriodExpiration attribute is set to "The system is in the software signing certificate revocation grace period, which expires at [DateAndTime]". Restarting or powering down the board does not prevent the grace period from expiring.

The

grace period can be canceled, and the upgrade can be rolled back either by recovery

escalation, or by restoring a backup made with an older UP. For more information about

recovery escalation, see Manage

Faults. For more information about restoring a backup made with an older UP, see

Restore from Backup Manually.

When

the grace period expires,

the attribute actionCapable in MO class

SwM is set to

CAPABLE

and

the attribute actionCapableInfo in MO class

SwM is

unset.

The

BrmBackupLabelStore.restoreEscalationList attribute

only refers to the final backup. The Software Management CRL Pending alarm is cleared. It is

no longer possible to install previously delivered UPs. Any UP and associated backup is

removed from the system. If an older software version is still required, Ericsson support must

be contacted.

## 1.7 Logs

The logs can be extracted from the node on demand through one of the following actions:

- Log.export
- LogM.exportAvailabilityLog
- LogM.exportEsi

The logs are used for observability and troubleshooting.

The LogM MO is automatically created when the node starts, and one

Log MO instance is created for each log that can be exported.

The following actions for logs are supported:

- Configuring log severity filter.
- Manually exporting Log MO logs.
- Manually exporting availability log.
- Manually exporting ESI package.
- Configuring automatic export of a log, that is, configuring a log as a push log.

### 1.7.1 ESI Package

The ESI package contains logs and other data to be used by Ericsson for analyzing the problem

in case of node failure. The ESI package is encrypted.

For information about data collection methods, see Data Collection Guideline.

### 1.7.2 Operator Log Files

The table lists all the operator logs available and describes what kind of information is

included in each log.

Table 3   Operator Log Files

| Log Name                | MO Class      | Description                                                                                                                                                                                                                                                                                                                                        |
|-------------------------|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AiLog                   | Log           | Logs all AutoIntegration events.                                                                                                                                                                                                                                                                                                                   |
| AvailabilityLog         | LogM          | Logs the node availability. Used for In-Service Performance (ISP) analysis.                                                                                                                                                                                                                                                                        |
| AlarmLog                | Log           | Logs all alerts and alarm state changes.                                                                                                                                                                                                                                                                                                           |
| AlertLog                | Log           | Logs all alert notifications.                                                                                                                                                                                                                                                                                                                      |
| AuditTrailLog           | Log           | Logs operator commands, that is EMCLI, Ericsson CLI, and NETCONF commands. All                 operator commands are logged, except get operations. The get operations are:    EMCLI command get     Ericsson CLI command show     NETCONF commands get and get-config                                                                             |
| BatteryLog              | Log           | Logs battery condition and state.                                                                                                                                                                                                                                                                                                                  |
| ClimateLog              | Log           | Logs cabinet temperature and cabinet fan speed.                                                                                                                                                                                                                                                                                                    |
| EdrLog                  | Log           | Logs for system call monitoring of the Basebands.                                                                                                                                                                                                                                                                                                  |
| HWInvHistoryLog         | Log           | The Hardware Inventory History Log                 tracks                 hardware replacements performed on the node.                                                                                                                                                                                                                             |
| HealthCheckLog          | Log           | Logs all executed health checks.  If a Health Check rule has failed, information about the failure is found in the                 HealthCheckLog.                                                                                                                                                                                                 |
| LicenseLog              | Log           | Logs licensing events, such as feature state changes, or emergency unlocks.                                                                                                                                                                                                                                                                        |
| PacketCaptureLog        | PacketCapture | Logs for the Packet Capture feature, which allows remote packet capturing at an                 interface level and remote frame capturing at a port level. The log can be exported                 to a remote SFTP server with the PacketCapture.export action. The                 log file is encrypted.                                       |
| PowerDistributionLog    | Log           | Logs system voltage.                                                                                                                                                                                                                                                                                                                               |
| PowerSupplyLog          | Log           | Logs power supply load and external power supply interruptions.                                                                                                                                                                                                                                                                                    |
| SecurityLog             | Log           | Logs all node security events.                                                                                                                                                                                                                                                                                                                     |
| SupportUnitLog          | Log           | Logs fans trayâ€™s speed.                                                                                                                                                                                                                                                                                                                            |
| SwmLog                  | Log           | Software Management log. Logs Software Management events, for example upgrade and                 backup.  If a software management activity failed, information about the failure is found in                 the SwmLog.                                                                                                                         |
| SwErrorAlarmLog         | Log           | The SwErrorAlarmLog contains additional information                 that can be used to group SW Error alarms into different root cause                 categories.                 The log contains the following                 information:                     Timestamp     EventID     MO     faultMessage     faultID     faultDescription |
| TnApplicationLog        | Log           | Logs Transport Network (TN) internal state and event information. Used for                 troubleshooting the node.                                                                                                                                                                                                                               |
| TnNetworkLog            | Log           | Logs network events. Used for troubleshooting.                                                                                                                                                                                                                                                                                                     |
| UnitTemperatureLevelLog | Log           | Logs unit temperature.                                                                                                                                                                                                                                                                                                                             |

### 1.7.3 Environmental Logs

The environmental log functionality allows for continuous monitoring of the cabinet

condition and cabinet state. The log also provides unit-specific data, even if the

configuration does not include climate control. The following environmental logs

available:

- BatteryLog
- ClimateLog
- PowerDistributionLog
- PowerSupplyLog
- SupportUnitLog
- UnitTemperatureLevelLog

For more detailed descriptions of the environmental logs, see Manage Hardware Equipment.

### 1.7.4 Log Records

A log is a repository of log records which contain the following

information:

| Log record ID   |    | A unique sequence number.                                                                                           |
|-----------------|----|---------------------------------------------------------------------------------------------------------------------|
|                 |    |                                                                                                                     |
| Logging time    |    | A time stamp indicating the node time, Coordinated Universal Time (UTC) when the logged             event occurred. |
|                 |    |                                                                                                                     |
| Log data        |    | The logged information, which can be any kind of information.                                                       |

### 1.7.5 Severity Filter

Each event contains a severity level. The severityFilter can be configured

to prevent events with certain severity levels from being registered in the log.

### 1.7.6 Log Export

Log data must be regularly exported to ensure that information is not lost. All logs must be

exported manually, except the

AuditTrailLog,

the

SecurityLog

and EdrLog files. These logs can be configured to

export data automatically by using the push log mechanism.

URIs can be used to make the exported log data traceable to a specific node.

The system generates unique filenames for the exported log files. These filenames follow

fixed naming conventions consisting of the following information:

- Log name
- Date
- Time

Naming Conventions for AiLog, AuditTrailLog, SwmLog, AvailabilityLog, and ESI Package

Files

The naming conventions for the following log files are shown in Table 4:

- AiLog
- AuditTrailLog
- AvailabilityLog
- EdrLog
- ESI Package
- SwmLog

Table 4   Naming Conventions for AiLog, AuditTrailLog, SwmLog, AvailabilityLog,

ESI Package

Files, and

EdrLog

| Log Name        | Naming Convention                        | Example                                       |
|-----------------|------------------------------------------|-----------------------------------------------|
| AiLog           | <Log_name>_<date><time>Z                 | AuditTrailLog_20150603100015Z                 |
| AuditTrailLog   | <Log_name>_<date><time>Z                 | AuditTrailLog_20150603100015Z                 |
| SwmLog          | <Log_name>_<date><time>Z                 | AuditTrailLog_20150603100015Z                 |
| AvailabilityLog | <log_name>_<date><time>.xml.gz           | RBS_CS_AVAILABILITY_LOG_20150609110402.xml.gz |
| ESI package     | <log_name>.du1.<date>T<time>+0000.tar.gz | esi.du1.20150126T210842+0000.tar.gz           |
| EdrLog          | <Log_name>_<date><time>Z                 | EdrLog_20241031102150Z                        |

Naming Conventions for AlarmLog, TnApplicationLog, and TnNetworkLog Files

The AlarmLog, TnApplicationLog, and

TnNetworkLog are rotation type logs. Rotational logs store log data

in LOG files. Information about log file configuration is described in a CFG file.

The LOG and CFG files of rotational logs can be in open or closed states. The system

controls the state of these files in the following way:

- The size of rotational logs is fixed. When a log is full, the system closes the LOG file and opens a new one.
- CFG files are closed only when the appdata used to create the log is changed at an upgrade. In this event, the system closes both the LOG and CFG files and opens new ones.

The exported LOG and CFG files follow the same naming conventions. However, naming

conventions differ according to the open or closed state of the exported files. The naming

conventions for the following log files are shown in Table 5:

- AlarmLog
- TnApplicationLog
- TnNetworkLog

Table 5   Naming Conventions for AlarmLog, TnApplicationLog, and TnNetworkLog Files

| Log Name         | Naming Convention for Open Files                                         | Filename Example                                                 | Naming Convention for Closed Files                                                                                   | Filename Example                                                                                   |
|------------------|--------------------------------------------------------------------------|------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| AlarmLog         | <log_name><opendate><opentime> .log  <log_name><opendate><opentime> .cfg | saLogAlarm_20150126__205242.log  saLogAlarm_20150126__205242.cfg | <log_name><opendate><opentime>><closedate><closetime>.log  <log_name><opendate><opentime>><closedate><closetime>.cfg | saLogAlarm_20190528__141859_20200629__124449.log  saLogAlarm_20190528__141859_20200629__124449.cfg |
| TnApplicationLog | <log_name><opendate><opentime> .log  <log_name><opendate><opentime> .cfg | saLogAlarm_20150126__205242.log  saLogAlarm_20150126__205242.cfg | <log_name><opendate><opentime>><closedate><closetime>.log  <log_name><opendate><opentime>><closedate><closetime>.cfg | saLogAlarm_20190528__141859_20200629__124449.log  saLogAlarm_20190528__141859_20200629__124449.cfg |
| TnNetworkLog     | <log_name><opendate><opentime> .log  <log_name><opendate><opentime> .cfg | saLogAlarm_20150126__205242.log  saLogAlarm_20150126__205242.cfg | <log_name><opendate><opentime>><closedate><closetime>.log  <log_name><opendate><opentime>><closedate><closetime>.cfg | saLogAlarm_20190528__141859_20200629__124449.log  saLogAlarm_20190528__141859_20200629__124449.cfg |

Examples of Exported LOG and CFG File Combinations

At log export, rotational logs put out one or more LOG files and the CFG file.

Example 1   An Open LOG File and an Open CFG File

saLogAlarm\_20150126\_\_205242.log

saLogAlarm\_20150126\_\_205242.cfg

Example 2   A Closed LOG File, an Open LOG File, and an Open CFG File

saLogAlarm\_20150126\_\_205242\_20150623\_\_210313.log

saLogAlarm\_20150623\_\_210313.log

saLogAlarm\_20150126\_\_205242.cfg

Example 3   A Closed LOG File, a Closed CFG File, an Open LOG File, and an Open CFG File

saLogAlarm\_20150126\_\_205242\_20150623\_\_210313.log

saLogAlarm\_20150126\_\_205242\_20150623\_\_210313.cfg

saLogAlarm\_20150623\_\_215932.log

saLogAlarm\_20150623\_\_215932.cfg

Related concepts

Push Log Mechanism

#### 1.7.6.1 Exporting Logs with Autointegration WEB GUI

When exporting to a mobile device, it is recommended that HTTPS-based Export controls are

used.

When exporting to a client, it is recommended that SFTP-based Export controls are used.

All node logs can be exported to the device of the site installer using the following two

exports controls:

- Autointegration WEB GUI Download Network Loader logs control
- Emergency Access GUI Download control

### 1.7.7 Push Log Mechanism

The push log mechanism allows the automatic export of log data from the

AuditTrailLog,

the

SecurityLog, and the

EdrLog to a specified server. This minimizes the need to manually export log

data and risk losing information.

The push log mechanism requires that the LogPushTransfer MO is created for

each log that is automatically exported. This MO defines the following attributes:

- The IP address to the server
- The username and password to log on to the server

The method of automatic transfer of log data is configured in the

LogPushTransfer.TransferType attribute.

The following transfer types are supported:

| BULK   |    | Instructs the system to automatically send log data in bulk to a specified SFTP or             FTPES server when the log is full.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|--------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| STREAM |    | Instructs the system to transfer log data in a continuous stream to a specified Syslog             server. The Real-Time Security Event Logging feature is used when the security events             are streamed.  To be able to stream security events, the FeatureState.serviceState             attribute of the Real-Time Security Event Logging feature must be set to               OPERABLE.             Besides enabling the Real-Time Security Event Logging feature , the license of the             Integrated Endpoint Detection and Response feature must be installed and the feature is             activated. |

When exporting a log file or a log record, the filename is generated

by the system according to the following naming convention:

- If transfer type is BULK, the filename is &lt;log\_name&gt;\_&lt;date&gt;&lt;time&gt;Z. Example for the AuditTrailLog: AUDITTRAILLOG\_20150603100015Z
- If transfer type is STREAM, the filename is defined by the receiving end.

### 1.7.8 Log Types

Table 6 lists the log types that exist

in the node, depending on the action taken when the log is full.

Table 6   Log Types

| Log Type   | Action When Log Is Full                                                                                           |
|------------|-------------------------------------------------------------------------------------------------------------------|
| Halt       | No more records are logged and alarm is raised. Records already in the log are kept                 indefinitely. |
| Rotation   | The oldest file, of a set number of files, is deleted and a new empty file is created.                            |

When a Halt log is full, alarm is raised. The log is cleared and the alarm ceases when the

operator exports the log.

### 1.7.9 Autointegration Log

The autointegration logs are generated on the node and can be used to monitor and

export the autointegration status of a node.

The site installer can monitor the autointegration progress and export all the encrypted

autiointegration logs using a mobile or laptop. The mobile or laptop must be connected

to the Autointegration Web GUI on the baseband node.

After exporting the logs from the node, the site installer can use an email client to

send them for detailed analysis in any phase of the autointegration. Following types of

autointegration logs exists:

- The autointegration log with protected node sensitive information is visible in the Autointegration WEB GUI. Information like IP addresses is masked in trusted networks. This autointegration log is used for monitoring and initial analysis of the autointegration status. The monitoring can be done on-site or by OSS personnel. The log is not encrypted and can be viewed by anyone.
- The autointegration log with full autointegration status and information is not visible in the Autointegration WEB GUI. This log is referred to as Network Loader log and used for detailed analysis and troubleshooting. It is encrypted with Gnu Privacy Guard (GPG) encryption mechanism and possible to decrypt by Ericsson personnel.

#### 1.7.9.1 Autointegration Web GUI

The

Autointegration WEB GUI is a tool to assist the field engineer in the autointegration

process on site.

The Autointegration Web GUI allows the user to:

- Monitor the progress of Zero Touch integration and LMT integration in real time.
- Trigger the LMT integration directly from the GUI, after providing the required credentials and paths.
- Upgrade the Network Loader to the required version.
- Perform late-binding of the hardware using the node logical name.
- View the Autointegration log and download the Network Loader log for analysis and troubleshooting.
- Submit or delete a security gateway address on a Baseband unit. Only valid for Zero Touch integration.

The GUI is available for:

- Laptop devices: the interface is accessed through a web browser. Google Chrome version 76.0 or later is recommended.
- Mobile devices: the interface is accessed through a web browser, or through the Ericsson Site Assistant Application. For more information, see Ericsson Site Assistant Application.

Figure 1   Laptop View of the Autointegration Web GUI

Figure 2   Mobile View of the Autointegration Web GUI

#### 1.7.9.2 Autointegration Log Content

The following events are generated and logged in the autointegration log, and visible in

Autointegration WEB GUI:

- Time stamp and date of specific events Autointegration preparation VLAN scanning (DHCP connection) Wi-Fi status events DNS connection NTP setting EGIS connection Connection to default gateway Certificate enrollment information IPsec tunnel establishment towards Security Gateway AIWS connection indication SMRS connection indication Configuration file availability Site Installation File RBS Summary File NETCONF configuration files LKF Software package availability and download progress Upgrade package information and installation progress Node reboot, information before reboot, and information after reboot Setting of RbsConfigLevel to SITE\_CONFIG\_COMPLETE

The following autointegration phases are marked with INFO tag in the Autointegration

Log:

- Autointegration faults Information about faults that occur during autointegration phases is marked with WARNING and ERROR tags.
- The autointegration summary contains the following information: Autointegration type Zero Touch LMT Integration General status Started Finalized Detailed status for each autointegration phase Done Not done List of faults during autointegration

# 2 Procedures

## 2.1 Software Upgrade

### 2.1.1 Ensure Enough Disk Space for Upgrade Packages

The amount of disk space available for storing upgrade packages on a RAN Compute unit

is limited and depends on the node configuration. For more information, see Disk Use.

Upgrade packages are defined in the following ways:

| UP1   |    | To-state upgrade package for the attempted upgrade, which is not yet                                 downloaded   |
|-------|----|-------------------------------------------------------------------------------------------------------------------|
|       |    |                                                                                                                   |
| UP2   |    | From-state upgrade package for the attempted upgrade                                                              |
|       |    |                                                                                                                   |
| UP3   |    | Upgrade package that is not a part of the attempted upgrade                                                       |

Prerequisites

UP2 version is 25.Q2 or later.

Steps

1. Run the PREINSTALL health check rules to check the available disk space. If the PREINSTALL health check fails, see Ensure Enough Disk Space if PREINSTALL Health Check Fails.
2. Create UP1.
3. Perform the UpgradePackage.prepare action to download UP1. If the UpgradePackage.prepare action fails, see Ensure Enough Disk Space if Prepare Action Fails.
4. Optional: Perform the UpgradePackage.verify action.
5. Run the PREUPGRADE health check rules to ensure that all files are downloaded. If the PREUPGRADE health check fails, see Ensure Enough Disk Space if PREUPGRADE Health Check Fails.
6. Activate UP1. For more information, see Upgrade Node with Upgrade Package.

#### 2.1.1.1 Ensure Enough Disk Space if PREINSTALL Health Check Fails

This chapter describes the steps to perform if the PREINSTALL health check

fails.

Steps

1. Ensure that fine-tuned input parameters are used. For more information on fine-tuning input parameters, see Fine-tune Health Check Input Parameter Values.
2. Optional: Export a backup of UP3 to ENM to allow for a later import of UP3. Note: If UP3 is already deleted, contact Ericsson for support.
3. Delete UP3 from the node to free up disk space.

After This Task

Perform all steps in Ensure Enough Disk Space for Upgrade Packages.

#### 2.1.1.2 Ensure Enough Disk Space if Prepare Action Fails

This chapter describes the steps to perform if the prepare action fails.

Steps

1. Verify that the value of the UpgradePackage.state attribute of UP1 is set to INITIALIZED. Note: If the value of the UpgradePackage.state attribute is set to PREPARE\_COMPLETED, UP1 must be deleted and created again to be able to execute the UpgradePackage.prepare action.
2. Optional: Export a backup of UP3 to ENM to allow for a later import of UP3. Note: If UP3 is already deleted, contact Ericsson for support.
3. Delete UP3 from the node to free up disk space.
4. Perform the UpgradePackage.prepare action for UP1.

After This Task

Continue performing the steps in Ensure Enough Disk Space for Upgrade Packages.

#### 2.1.1.3 Ensure Enough Disk Space if PREUPGRADE Health Check Fails

This chapter describes the steps to perform if the PREUPGRADE health check

fails.

Steps

1. Optional: Export a backup of UP3 to ENM to allow for a later import of UP3. Note: If UP3 is already deleted, contact Ericsson for support.
2. Delete UP3 from the node to free up disk space.
3. Run the PREUPGRADE health check rules.

After This Task

Continue performing the steps in Ensure Enough Disk Space for Upgrade Packages.

#### 2.1.1.4 Fine-tune Health Check Input Parameter Values

This procedure is intended to be performed on test

nodes. The

fine-tuned input parameter values determined during the procedure can be used as

PREINSTALL health check input parameters for the other nodes in the

network.

Steps

The following steps must be performed to obtain the output parameter values

required for calculating the fine-tuned input parameter values:

1. Run the PREINSTALL health check rules. Note: The PREINSTALL health check rule might fail, which can be ignored.
2. Store the output parameter values.
3. Create UP1.
4. Perform the UpgradePackage.prepare action to download UP1.
5. Run the PREINSTALL health check rules again. Note: The PREINSTALL health check rule might fail, which can be ignored.
6. Store the output parameter values.
7. Run the PREUPGRADE health check rules.
8. Activate UP1.

The following steps must be performed to calculate the fine-tuned input parameter

values:

9. Calculate the difference between the stored output parameter values in Step 6 and Step 2 in percentage for the CheckUsedSWareaSpace health check rule to determine the amount of disk space UP1 uses.
10. Add a safety margin of 1-2% safety margin to the calculated difference.
11. Subtract the value of the calculation from 100%. Result: The fine-tuned input parameter value is calculated for the CheckUsedSWareaSpace health check rule.
12. Calculate the difference between the stored output parameter values in Step 6 and Step 2 in percentage for the CheckDiskSpace health check rule to determine the amount of disk space UP1 uses.
13. Add a safety margin of 1-2% safety margin to the calculated difference.
14. Subtract the value of the calculation from 100%. Result: The fine-tuned input parameter value is calculated for the CheckDiskSpace health check rule.

After This Task

Perform the steps described in Ensure Enough Disk Space for Upgrade Packages with the new input

parameter values.

### 2.1.2 Upgrade Node with Upgrade Package

Before a SW upgrade is started, ensure that the following conditions

are met:

- The node operates without any major fault indications.
- The UP resides on a Secure File Transfer Protocol (SFTP) or Explicit FTP over TLS (FTPES) server with access from the node. This SFTP or FTPES server must be available and preserve the UP while present on the node to ensure that expansion and rollback/recovery is possible.
- The UP is unpacked and all the files that belong to the UP reside in the same directory.
- There are maximum three UPs stored on the node, including the active one. Instructions on how to remove a UP from the node are provided in Remove Upgrade Package from Node.
- The software management function is ready to execute actions, that is, attribute actionCapable in MO class SwM is set to CAPABLE.

Avoid doing a SW upgrade when other O&amp;M activities are in progress, because they can

interfere with the upgrade.

It is not possible to upgrade to an older SW version. If an older SW version is desired,

restore the node from an appropriate backup. Information on how to restore from a backup is

provided in Restore from Backup Manually.

Action activate UP starts a fallback timer that has a default time-out

period of 20 minutes. This means the confirm action must be performed

within 20 minutes after the activate action has finished successfully.

A backup is created during the activate action. This system-created

backup is used in case of fallback.

The following actions do not disturb traffic and can be performed

during normal operation:

- CreateUpgradePackage
- Prepare
- Verify
- Confirm

To upgrade the node with a UP, do the following:

Steps

1. Create a new UpgradePackage MO by initiating action createUpgradePackage (&lt;uri&gt;, &lt;password&gt;) TOOLTIPFLAG in MO class SwM TOOLTIPFLAG. Parameter uri specifies the protocol, location and name of the directory containing the UP. Parameter uri can optionally also contain the username at logon to the server. Specify parameter uri in, for example, one of the following ways: sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory Parameter password specifies the password required to access the location specified in parameter uri. Specify parameter password if required. During action createUpgradePackage the UP metadata is downloaded to the node from the SFTP or FTPES server. Action cancel() can be initiated during action createUpgradePackage(), see Cancel Ongoing Action MOC SwM.
2. Track the progress of action createUpgradePackage() by attribute reportProgress TOOLTIPFLAG in MO class SwM TOOLTIPFLAG. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS in attribute reportProgress TOOLTIPFLAG. The resultInfo in attribute reportProgress TOOLTIPFLAG shows the new UpgradePackage MO. The state TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG is INITIALIZED. If the result is FAILURE, read the resultInfo in attribute reportProgress TOOLTIPFLAG. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs. Action removeUpgradePackage() can be initiated during state INITIALIZED, see Remove Upgrade Package from Node.
3. Prepare the Managed Element (ME) for the activation of the UP by initiating action prepare() TOOLTIPFLAG in the UpgradePackage TOOLTIPFLAG MO created in Step 1. During action prepare all the UP files are downloaded to the node from the SFTP or FTPES server. Action cancel() can be initiated during the prepare() action, see Cancel Ongoing Action MOC UpgradePackage.
4. Track the progress of the prepare() action by attribute reportProgress TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS in attribute reportProgress TOOLTIPFLAG. The state TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG is PREPARE\_COMPLETED. If the result is FAILURE, read the resultInfo in attribute reportProgress TOOLTIPFLAG. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs. Action removeUpgradePackage() can be initiated during state PREPARE\_COMPLETED, see Remove Upgrade Package from Node.
5. Verify the ability to activate the UP by initiating action verify() TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. Action verify() is optional, but recommended. Action cancel() can be initiated during action verify(), see Cancel Ongoing Action MOC UpgradePackage.
6. Track the progress of the verify() action by attribute reportProgress TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS in attribute reportProgress TOOLTIPFLAG. The state TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG is PREPARE\_COMPLETED. Any warnings received are shown in additionalInfo in attribute reportProgress TOOLTIPFLAG. If the result is FAILURE, read the resultInfo in attribute reportProgress TOOLTIPFLAG. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs. Action removeUpgradePackage() can be initiated during state PREPARE\_COMPLETED, see Remove Upgrade Package from Node.
7. Set attribute fallbackTimer TOOLTIPFLAG in MO class SwM TOOLTIPFLAG to the maximum number of seconds allowed between the finish of action activate and the start of action confirm(). The default value of fallbackTimer is 20 minutes. To read the time remaining before the fallback timer expires, print attribute timeRemainingBeforeFallback TOOLTIPFLAG in MO class SwM TOOLTIPFLAG. The ME issues an alarm about 300 seconds before the fallback timer expires, A Fallback Operation Will Soon Be Started.
8. Activate the UP by initiating action activate() TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. The action to activate the UP starts the fallback timer. During activation of a UP, a node can restart and O&amp;M contact with the node can be temporarily lost. The user must select the restart type, from one of the following options: COLD - force cold system restart at upgrade. ADAPTIVE - dynamically determine the restart domain based on delta software. For more information, see Software Upgrade with System Adaptive Restart. The program group restart on LTE has impact NR for users with ESS configuration since both NR and LTE users share the same carriers. The same principle is also applicable when NR SW is restarted for user with ESS configuration. Note: The action to activate the UP disturbs traffic. Perform it only during low traffic hours. Action cancel() can be initiated during action activate(), see Cancel Ongoing Action MOC UpgradePackage.
9. Track the progress of action activate() by attribute reportProgress TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS in attribute reportProgress TOOLTIPFLAG. The state TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG is WAITING\_FOR\_COMMIT. The new SW is in full operation. Note: Action confirm() must be initiated before the fallback timer has expired. If the fallback timer expires, the ME automatically starts a fallback operation and restores the state of the UP to PREPARE\_COMPLETED. The fallback operation disturbs traffic. If the result is FAILURE, read the resultInfo in attribute reportProgress TOOLTIPFLAG. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs.
10. Confirm the UP by initiating the confirm() action in the UpgradePackage MO class . The fallback timer is stopped.
    - The confirm() action returns TRUE if the process was successful. The state parameter in the UpgradePackage MO class is COMMIT\_COMPLETED and the upgrade is confirmed.
    - The confirm() action returns FALSE after failure. In case of failure the node is rolled back to the from-state UP. Information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs.

### 2.1.3 Cancel Ongoing Action MOC SwM

Action cancel() can be initiated during

action createUpgradePackage. Canceling

an ongoing action in MO class

SwM

does not disturb traffic and

can be performed during normal operation.

It is possible that the ongoing action finishes before action cancel has time to cancel it.

To cancel an ongoing long lasting action, do the following:

Steps

1. Initiate action cancel() TOOLTIPFLAG in MO class SwM TOOLTIPFLAG to stop the action and restore the consistent state present before the long lasting action was started.
2. Track the progress of action cancel() by attribute reportProgress TOOLTIPFLAG in MO class SwM TOOLTIPFLAG. The action is finished when the state is CANCELLED, and the result is FAILURE in the attribute reportProgress TOOLTIPFLAG.

### 2.1.4 Cancel Ongoing Action MOC UpgradePackage

Action cancel() can be initiated during

action prepare, verify, and activate. Canceling ongoing actions prepare or verify in MO

class

UpgradePackage

does not disturb traffic.

It is possible that the ongoing action finishes before action cancel has time to cancel it.

To cancel an ongoing long lasting action, do the following:

Steps

1. Initiate action cancel() TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG to stop the action and restore the consistent state present before the action was started.
2. Track the progress of action cancel() by attribute reportProgress TOOLTIPFLAG in MO class UpgradePackage TOOLTIPFLAG. The action is finished when the state is CANCELLED, and the result is FAILURE in the attribute reportProgress TOOLTIPFLAG.

### 2.1.5 Remove Upgrade Package from Node

Removing an Upgrade Package (UP) from the node is optional.

Removing a UP from the node does not disturb traffic and can be performed during normal

operation. The UP corresponding to the currently used SW cannot be removed. A UP referenced

by a BrmBackup MO cannot be removed until the backup

has been deleted.

To remove a UP from the node, do the following:

Steps

1. Initiate the removeUpgradePackage (UpgradePackage) action in MO class SwM to remove the UpgradePackage MO specified in the action parameter. All files temporarily stored in the node and associated with the UP are removed.
2. Track the progress of the removeUpgradePackage () action using the SwM.reportProgress attribute. The action is finished when the state parameter is FINISHED, and the result parameter is SUCCESS in the SwM.reportProgress attribute.

### 2.1.6 Perform Soft Upgrade

Soft upgrade is available

for

NR, LTE and WCDMA RATs.

Prerequisites

Ensure that the following conditions are met:

- The activation of the Cell Soft Lock (FAJ 121 1817) featuer is required for the soft upgrade to be available in LTE RAT.
- The activation of the NR Cell Soft Lock (FAJ 121 5575) feature is required for the soft upgrade to be available in NR RAT.

Steps

1. There are three ways to perform soft upgrade. Note: In LTE, during the initialization phase of cell soft lock, after a waiting time of 500 seconds for emergency calls to disconnect, If there are no more UEs in the cell or the internal timer expires, the cell is locked. If there is any ongoing emergency call, the cell would be locked after the UEs are handed over or released. In NR, during the initialization phase of cell soft lock, the soft upgrade procedure stops for a waiting time of up to 500 seconds for emergency calls to handover. If there are no more UEs in the cell or the internal timer expires, the cell is locked and calls are released. In WCDMA, for all call types, the upgrade stops for a waiting time of up 150 seconds.
    - Perform soft upgrade in ASU, as described in Upgrade RAN Software Using Automation Flow in ENM.
    - Perform soft upgrade in SHM by choosing the appropriate option from the drop-down list.
    Soft upgrade in SHM

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)
    - Perform soft upgrade by moshell/AMOS command: acc SwM=1,UpgradePackage=CXP... activate 1
Soft upgrade in SHM

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)

### 2.1.7 Perform Hard Upgrade

Steps

1. There are three ways to perform hard upgrade.
    - Perform hard upgrade in ASU, as described in the Select Activation Activities chapter of Automated Software Upgrade .
    - Perform hard upgrade in SHM by choosing the appropriate option from the drop-down list.
    hard upgrade in SHM

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)
    - Perform hard upgrade by moshell/AMOS command: acc SwM=1,UpgradePackage=CXP... activate 0
hard upgrade in SHM

![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)

### 2.1.8 Preparation of USB Memory Stick and Encrypted Upgrade Package

An upgrade package can be uploaded from a USB memory stick to the

Baseband

Radio Nodes using a USB port.

The

computer and the USB memory stick must fulfill the following

prerequisites:

- Computer with Linux OS that supports the GnuPG v2.1.0 or newer
- Mass storage USB memory stick with a valid ext4 file system and at least 4-GB storage
- Upgrade package is downloaded from the Ericsson Software Gateway
- The RCS SW Public key decryption key is downloaded from the Ericsson Software Gateway

| Product Name:   | RCS SW Public key    |
|-----------------|----------------------|
| Product Number: | 1/CCX 201 0002 R1A02 |

#### 2.1.8.1 Prepare Software

Procedure of downloading and preparing the upgrade package used on the USB memory

stick.

Steps

1. Create a folder and download the upgrade package to be encrypted from the Ericsson Software Gateway into the created folder.
2. Extract the upgrade package.
3. Create a folder, where the encrypted upgrade package is stored.
4. Download the public key file from the Ericsson Software Gateway.
5. Enter the gpg --import &lt;publicKeyFile&gt; command. This command imports the public key file. The following prompts appear in the output, where the NL Ericsson is an example public key file email ID:gpg: migration succeeded gpg: key XXXXXXXXXX: public key "NL Ericsson &lt;nl.ericsson@ericsson.com&gt;" imported
![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)
7. Enter the gpg --recipient &lt;publicKeyFileEmailId&gt; --output &lt;encryptedUPcxppath&gt; --trust-model always --encrypt &lt;UPcxppath&gt; command. This command encrypts a single upgrade package file and must be performed for all CXP upgrade package files. Note: Encrypted upgrade package files must have the same name as decrypted upgrade package files. Do not encrypt the XML and ZIP files. Example Public key file email ID can be read from the key info that is listed while importing the public key. In the following example, the ID is bagger: gpg -import publicKey3.key gpg: key 44FBC241: public key "Bagger &lt;bagger@ericsson.com&gt;" imported gpg: Total number processed: 1 gpg: imported:1 (RSA: 1)
![Image](../images/15_1553-LZA7016014_1Uen.FU/additional_3_CP.png)

#### 2.1.8.2 Prepare Hardware

Procedure of preparing the USB memory stick and the Baseband.

Steps

1. Plug in the USB memory stick to the computer.
2. Partition the USB memory stick to contain the proper GPT table.
3. Format the USB memory stick as ext4 file system.
4. Create the USB memory stick file structure in the following form:
    1. ../BB/ - Optional files to be stored in this directory.
    2. ../BB/SW/ - Content of encrypted upgrade package to be copied into this directory.
5. Copy the encrypted upgrade package to the USB memory stick to the ../BB/SW/ directory.
6. Copy the boardlist XML file.
7. Unmount and unplug the USB memory stick from the computer. The following optional files can be placed to the USB memory stick into the ../BB/ directory.
    1. A .disable file can be placed manually to the USB memory stick to disable permanently a USB port on the Baseband. The content of the file is not important, it can be an empty file. Note: Including this file permanently disables the USB port on the node, so it can never be used again. For more information, see Disable the USB Port Permanently.
    2. The .preload file indicates that the upgrade package is available for preload. It is required only if the software needs to be preloaded. The content of the file is not important, it can be an empty file. For more information, see Preload Upgrade Package Using USB Memory Stick.

### 2.1.9 Preload Upgrade Package Using USB Memory Stick

In case of Baseband Radio Nodes with a USB port, it is possible to upload the upgrade

package from a USB memory stick. The upgrade package on the USB memory stick is

encrypted.

Prerequisites

- The USB memory stick is prepared with a .preload file and prepared with an encrypted upgrade package.
- The Baseband Radio Node is in the network loader mode.

Steps

1. Plug in the USB memory stick to the Baseband Radio Node.
2. The Baseband Radio Node recognizes the USB memory stick and mounts it. The double flash of the LED diode indicates the start of the process.
3. The Baseband Radio Node loads and decrypts the upgrade package. Result: The software from the USB memory stick is successfully preloaded and the upgrade package is available for use on the node.
4. The USB memory stick is unmounted after finishing successfully. The LED diode indicates this by slow blinking.
5. Unplug the USB memory stick from the Baseband Radio Node.

Example 4   Upgrade Package Preloading AI Logs

```
2020/06/11 07:49:06 INFO     USB device detected
2020/06/11 07:49:06 INFO     Zero Touch AI cancellation in progress
2020/06/11 07:49:08 INFO     TN-IDL_B: Sending DHCP Discover on all VLANs (4094 concurrently)
2020/06/11 07:49:08 INFO     TN-IDL_B: Sending Router Solicitation on all VLANs (4094 concurrently)
2020/06/11 07:49:20 INFO     Zero Touch AI cancelled
2020/06/11 07:49:20 PHASE    --------------------------- VLAN SCAN END ----------------------------
2020/06/11 07:49:21 INFO     USB device mounted
2020/06/11 07:49:21 INFO     USB: Started
2020/06/11 07:49:22 INFO     USB directory structure ok:
2020/06/11 07:49:22 INFO         Up version: CXS2010097_1-R01A234
2020/06/11 07:49:22 INFO         NL version: CXP2030028_2-R8A04
2020/06/11 07:49:22 INFO     Preload file detected on USB
2020/06/11 07:49:22 INFO     Download progress: 0%
2020/06/11 07:49:26 INFO     Download progress: 12%
2020/06/11 07:49:29 INFO     Download progress: 100%
2020/06/11 07:49:33 INFO     Software successfully preloaded
2020/06/11 07:49:33 INFO     Network Loader up to date
2020/06/11 07:49:33 INFO     USB device unmounted, it's now safe to remove
2020/06/11 07:49:38 INFO     USB device plugged out
```

After This Task

The USB port is closed when the Baseband Radio Node is no longer in network loader

mode.

Related concepts

Preparation of USB Memory Stick and Encrypted Upgrade Package

## 2.2 Perform Backup and Restore

### 2.2.1 Configure BrM.exportPackageLabelPrefix

Before creating a backup manually or automatically, set the

BrM.exportPackageLabelPrefix. When exporting a backup, the backup

filename is generated by the system according to the following naming convention:

&lt;exportPackageLabelPrefix&gt;\_&lt;backupName&gt;\_&lt;networkManagedElementId&gt;\_&lt;managedElementType

\_&lt;exportTime&gt;.zip

Steps

1. Set the BrM.exportPackageLabelPrefix MO attribute to the desired name.

### 2.2.2 Configure Housekeeping for Manual Backups

Housekeeping is configured to limit the number of stored backups

in the node.

Steps

1. Set the value of the BrmBackupHousekeeping.maxStoredManualBackups attribute to the desired maximum number of manual backups stored in the ME. The default value is 20.
2. Configure automatic housekeeping by setting the BrmBackupHousekeeping.autoDelete attribute to ENABLED or DISABLED. The oldest manual backup is automatically deleted if the following options apply: The BrmBackupHousekeeping.autoDelete attribute is set to ENABLED. The number of manual backups already stored on the ME equals the value of the BrmBackupHousekeeping.maxStoredManualBackups attribute. This occurs before creating a backup. An error is returned when the BrmBackupManager.createBackup() action is initiated if the following options apply: The BrmBackupHousekeeping.autoDelete attribute is set to DISABLED. The maximum number of stored manual backups is reached. Housekeeping is required before attempting to create a backup.

### 2.2.3 Create Backup Manually

The procedure for manual creation of a backup is performed by initiating the

BrmBackupManager.createBackup() action. The backup created is stored in

the local file system in the node.

The BrmBackupManager.createBackup() action does not disturb traffic and

can be performed during normal operation.

Prerequisites

- The node is running without any major fault indications.
- The BrM.exportPackageLabelPrefix is configured, as described in Configure BrM.exportPackageLabelPrefix.
- Housekeeping for manual backups is configured, as described in Configure Housekeeping for Manual Backups.
- The NodeCredential.subjectAltName attribute contains the O&amp;M IP address of the node.

Steps

To create a backup manually, follow these steps:

1. Create a backup by initiating the BrmBackupManager.createBackup(&lt;name&gt;) action. Specify backup-name in the &lt;name&gt; parameter, if needed. If the &lt;name&gt; parameter is not specified, a default backup-name is generated by the system. The BrmBackupManager.cancelCurrentAction() action can be initiated during the BrmBackupManager.createBackup() action. See Cancel Ongoing Create and Import Backup Actions.
2. Track the progress of action BrmBackupManager.createBackup() by the BrmBackupManager.progressReport attribute. The action is finished when the state of the BrmBackupManager.progressReport attribute is FINISHED, and the action is successful when the result of the BrmBackupManager.progressReport attribute is SUCCESS. The resultInfo of the BrmBackupManager.progressReport shows the new BrmBackup MO. The BrmBackup.status attribute is BRM\_BACKUP\_COMPLETE and the BrmBackup.creationType attribute is MANUAL. If the result of the BrmBackupManager.progressReport attribute is FAILURE, check the resultInfo of the BrmBackupManager.progressReport attribute. For more information, see the SwmLog. For instructions on how to export the SwmLog manually, see Export Log MO Logs.

### 2.2.4 Delete Backup Manually

The procedure for manual deletion of a backup is performed by initiating the

BrmBackupManager.deleteBackup() action.

The BrmBackupManager.deleteBackup() action does not disturb traffic and

can be performed during normal operation.

Steps

To delete a backup manually, follow these steps:

1. Delete a backup by initiating the BrmBackupManager.deleteBackup(&lt;backupname&gt;) action.
2. Track the progress of the BrmBackupManager.deleteBackup() action by the BrmBackupManager.progressReport attribute. The action is finished when the state of the BrmBackupManager.progressReport is FINISHED, and the action is successful when the result of the BrmBackupManager.progressReport is SUCCESS. If the result of the BrmBackupManager.progressReport is FAILURE, check the resultInfo of the BrmBackupManager.progressReport. For more information about the failure, see the SwmLog. For instructions on how to export the SwmLog manually, see Export Log MO Logs.

### 2.2.5 Import Backup Manually

The procedure to import a backup from an external server is performed by initiating the

BrmBackupManager.importBackup() action.

A backup belongs to a specific node, and cannot be used on another

node.

The backup filename must be unique on the node. The filename can

be changed at the remote file storage. All imported backups are considered

manually created, regardless of how they were created before exported

from the node.

The BrmBackupManager.importBackup() action does not disturb traffic and

can be performed during normal operation.

Prerequisites

- The backup to import is stored on an SFTP or FTPES server, with access from the node.
- The upgrade package must be available in the NFVO. Note: The backup import works even if the upgrade package is not in the NFVO. However, subsequent backup activation fails.
- The software management function is ready to execute actions, that is, the SwM.actionCapable attribute is set to CAPABLE.

Steps

To import a backup manually, follow these steps:

1. Import a backup by starting the BrmBackupManager.importBackup(&lt;uri&gt;, &lt;password&gt;) action. The &lt;uri&gt; parameter specifies the location and the filename of the backup to import. This parameter can also contain the username at logon to the SFTP server
2. Specify the &lt;uri&gt; parameter in one of the following ways: The &lt;password&gt; parameter is the password required to access the location specified in the &lt;uri&gt; parameter.
    - sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/&lt;filename&gt;
    - sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/&lt;filename&gt;
    - ftpes://&lt;ftpes-IP-address&gt;/&lt;directory&gt;/&lt;filename&gt;
3. Specify the &lt;password&gt; parameter if required. The BrmBackupManager.cancelCurrentAction() action can be initiated during the BrmBackupManager.importBackup() action. For more information, see Cancel Ongoing Create and Import Backup Actions.
4. Track the progress of the BrmBackupManager importBackup() action by the BrmBackupManager.progressReport attribute. The action is finished when the status of the BrmBackupManager.progressReport attribute is FINISHED. The action is successful when the result of the BrmBackupManager.progressReport is SUCCESS. The status parameter in MO class BrmBackup is BRM\_BACKUP\_COMPLETE. If the result of the BrmBackupManager.progressReport parameter is FAILURE, check the resultInfo of the BrmBackupManager.progressReport. For more information about the failure, see the SwmLog.

### 2.2.6 Export Backup Manually

The procedure to export a backup from the node to an external server

is started with action export(). The backup

is copied and not removed from the node.

The backup file name is generated by the system according to the following naming

convention: &lt;exportPackageLabelPrefix

&gt;\_&lt;backupName&gt;\_&lt;networkManagedElementId&gt;\_&lt;managedElementType&gt;\_&lt;export-time&gt;.zip.

- Brm.exportPackageLabelPrefix MO attribute
- BrmBackup.backupName MO attribute
- ManagedElement.networkManagedElementId MO attribute
- ManagedElement.managedElementType MO attribute
- Export-time shows the time when the backup is exported.

The action export does not disturb traffic and can be performed

during normal operation.

Before a backup is manually exported, ensure that the following conditions are met:

- The node has access to an SFTP or FTPES server.
- The software management function is ready to execute actions, that is, attribute actionCapable in MO class SwM is set to CAPABLE.

To export a backup from the node to an external SFTP or FTPES server, do the following:

Steps

1. Export a backup by initiating action export (&lt;&lt;uri&gt;, [&lt;password&gt;]&gt;) TOOLTIPFLAG on the intended BrmBackup TOOLTIPFLAG MO. Parameter uri specifies the protocol and location to where the backup is exported. Parameter uri can optionally also contain the username at logon to the server. Specify parameter uri in, for example, one of the following ways: sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory Parameter password is the password required to access the location specified in parameter uri. Specify parameter password if required. Action cancelCurrentAction() can be initiated during the export() action, see Cancel Ongoing Export Action.
2. Track the progress of the export() action by attribute progressReport TOOLTIPFLAG in MO class BrmBackup TOOLTIPFLAG. The action is finished when the progressReport TOOLTIPFLAG state is FINISHED, and the action is successful when the progressReport TOOLTIPFLAG result is SUCCESS. If the progressReport TOOLTIPFLAG result is FAILURE, read the progressReport TOOLTIPFLAG resultInfo. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs.

### 2.2.7 Restore from Backup Manually

The backup and restore function allows the operator to restore the system to a previously

created backup system state, which includes system software and configuration data.

The manual restoration of the node from a previously created backup is started through the

BrmBackup.restore() action.

No warning is given if the upgrade package specified in the backup differs from the upgrade

package active on the node. To see the currently active upgrade package,

check

the SwInventory.active attribute.

Before using the backup and restore function,

ensure

that the value of the SwM.actionCapable attribute is set to

CAPABLE.

Do not start a backup restore to a backup made with a software package newer than the

currently active package on the node because the

restoration

process might stop with a software error. Use the UpgradePackage.activate

action to update from older upgrade packages to newer ones.

Steps

1. Restore the node from a backup through the BrmBackup.restore() action. The BrmBackup.cancelCurrentAction() action can be used during the restoration process when the O&amp;M connection is still working. For more information, see Cancel Ongoing Restore Action. Result: The node restarts.
2. Track the progress of the BrmBackup.restore() action through the BrmBackup.progressReport attribute. The action is finished when the value of the state struct member of the BrmBackup.progressReport attribute is set to FINISHED. The action is successful when the value of the result struct member of the BrmBackup.progressReport attribute is set to SUCCESS. If the value of the result struct member of the BrmBackup.progressReport attribute is set to FAILURE, check the resultInfo struct member of the BrmBackup.progressReport attribute. For more information, see the SwmLog log file. To export the SwmLog log file manually, see Export Log MO Logs. If the restore action fails, the node returns to the state before the initiation of the restore action.

### 2.2.8 Cancel Ongoing Create and Import Backup Actions

The BrmBackupManager.cancelCurrentAction() action can be initiated

during the BrmBackupManager.createBackup and

BrmBackupManager.importBackup actions. Canceling an ongoing action in

the BrmBackupManager action does not disturb traffic and can be performed

during normal operation.

The ongoing action can finish before the

BrmBackupManager.cancelCurrentAction() action cancels it.

Steps

To cancel ongoing BrmBackupManager.createBackup and

BrmBackupManager.importBackup actions, follow these steps:

1. Initiate the BrmBackupManager.cancelCurrentAction() action to stop the ongoing action.
2. Track the progress of the BrmBackupManager.cancelCurrentAction() action with the BrmBackupManager.progressReport attribute. The action is finished when the BrmBackupManager.progressReport state is CANCELLED, and the result of the BrmBackupManager.progressReport is FAILURE.

### 2.2.9 Cancel Ongoing Export Action

The BrmBackup.cancelCurrentAction() action can be initiated during the

BrmBackup.export() action. The cancellation of the

BrmBackup.export() action does not disturb traffic and can be performed

during normal operation.

The BrmBackup.export() action can finish before the

BrmBackup.cancelCurrentAction() action has time to cancel it.

Steps

To cancel an ongoing BrmBackup.export() action, follow these

steps:

1. Initiate the BrmBackup.cancelCurrentAction() action to stop the ongoing BrmBackup.export() action.
2. Track the progress of the BrmBackup.cancelCurrentAction action with the BrmBackup.progressReport attribute. The action is finished when the state of the BrmBackup.progressReport is CANCELLED, and the result of the BrmBackup.progressReport is FAILURE.

### 2.2.10 Cancel Ongoing Restore Action

The BrmBackup.cancelCurrentAction() action can be initiated during the

BrmBackup.restore action. The backup restoration procedure is canceled,

and the node returns to the same consistent state as before the restore action was

initiated.

The BrmBackup.restore action can finish before the

BrmBackup.cancelCurrentAction action has time to cancel it.

Steps

To cancel an ongoing BrmBackup.restore action, follow these steps:

1. Initiate the BrmBackup.cancelCurrentAction() action. This stops the ongoing restore action and orders the node to return to the same consistent state present before the restore action was initiated.
2. Track the progress of the BrmBackup.cancelCurrentAction() action with the BrmBackup.progressReport attribute. The action is finished when the state of the BrmBackup.progressReport is CANCELLED, and the result of the BrmBackup.progressReport is FAILURE.

### 2.2.11 Configure Backup Scheduler

The backup scheduler must be configured before any scheduled backup

events are configured.

Steps

To configure the backup scheduler, follow these steps:

1. Set the BrmBackupScheduler.scheduledBackupName attribute to the required scheduled backup name. The default scheduledBackupName is BACKUP.
2. Set the value of the BrmBackupScheduler.maxStoredScheduledBackups attribute to the required maximum number of scheduled backups to store in the ME. The default value is 5. Value 0 is not recommended.

### 2.2.12 Configure Automatic Export of Scheduled Backup

The procedure for configuring automatic export of scheduled backups is performed by setting

the following attributes:

- BrmBackupScheduler.autoExportPassword
- BrmBackupScheduler.autoExportUri
- BrmBackupScheduler.autoExport

The automatic export is triggered only if the creation of the scheduled backup is

successful.

Steps

To configure the automatic export of scheduled backups, follow these steps:

1. Set the BrmBackupScheduler.autoExportPassword attribute to the password used for authentication when automatically exporting the scheduled backup.

The password can be entered in encrypted format or in cleartext. A cleartext password

must be followed by a space and the word cleartext, for example,

Abc123 cleartext.

2. Set the BrmBackupScheduler.autoExportUri attribute to specify the location to which the scheduled backup is automatically exported.

set BrmBackupScheduler=1 autoExportPassword

password=Abc123,cleartext=true

3. Set the BrmBackupScheduler.autoExport attribute to ENABLED.

### 2.2.13 Configure Single Scheduled Backup Event

Prerequisites

- The BrM.exportPackageLabelPrefix is configured, as described in Configure BrM.exportPackageLabelPrefix.
- The backup scheduler is configured, as described in Configure Backup Scheduler.

Automatic export of scheduled backups can be configured, see Configure Automatic Export of Scheduled Backup.

Steps

To configure a single scheduled backup event, follow these steps:

1. Create an MO instance of the BrmSingleEvent MO.
2. Configure the desired date and time of the backup event by setting the BrmSingleEvent.scheduledTime attribute. The date and time is the local date and time of the ME or the Coordinated Universal Time (UTC).The local time zone is shown in the DateAndTime.localDateTime attribute. Example To configure a single scheduled backup event to occur at 2:00 am on the 15 April 2017 local date and time, set the BrmSingleEvent.scheduledTime attribute to 2017-04-15T02:00:00. To configure a single scheduled backup event to occur at 3:00 am on the 16 April 2018 UTC, set attribute BrmSingleEvent.scheduledTime to 2018-04-16T03:00:00Z.

### 2.2.14 Configure Periodic Scheduled Backup Event Based on Calendar

Prerequisites

- The Brm.exportPackageLabelPrefix attribute is configured.
- The backup scheduler is configured.

Automatic export of scheduled backups can be configured.

Steps

To configure a calendar-based, periodic scheduled backup event, follow these steps:

1. Create an MO instance of the BrmCalendarBasedPeriodicEvent MO class.
2. Configure the required period of the calendar-based scheduled backup event by setting one or several of the following attributes: BrmCalendarBasedPeriodicEvent.time BrmCalendarBasedPeriodicEvent.month BrmCalendarBasedPeriodicEvent.dayOfMonth BrmCalendarBasedPeriodicEvent.dayOfWeek BrmCalendarBasedPeriodicEvent.dayOfWeekOccurrence The BrmCalendarBasedPeriodicEvent.time is mandatory to set. Example To configure a scheduled backup event to occur every night at 2:00 am, set the BrmCalendarBasedPeriodicEvent.time attribute to 02:00:00. Note: A scheduled backup event of this type is triggered only if all the conditions regarding attribute values are met. For example, if the BrmCalendarBasedPeriodicEvent.dayOfWeek attribute is set to Monday, and the BrmCalendarBasedPeriodicEvent.dayOfMonth attribute is set to 1, the event is triggered only if the first day of the month is Monday. For calendar-based scheduled backup events, combinations never triggered can be configured. In this case, the event is inactive and the Scheduled Backup Failed alarm is raised at the event configuration.
3. If required, set the optional BrmCalendarBasedPeriodicEvent.startTime attribute for the periodic scheduled backup event. If this attribute is not specified, the current system time is used as the default value.
4. If required, set the optional BrmCalendarBasedPeriodicEvent.stopTime attribute for the periodic scheduled backup event. If this attribute is not specified, the scheduled event continues until canceled.

### 2.2.15 Configure Periodic Scheduled Backup Event

Prerequisites

- The BrM.exportPackageLabelPrefix is configured, as described in Configure BrM.exportPackageLabelPrefix.
- The backup scheduler is configured, as described in Configure Backup Scheduler.

Automatic export of scheduled backups can be configured, see Configure Automatic Export of Scheduled Backup.

Steps

To configure a periodic scheduled backup event, follow these steps:

1. Create an MO instance of the BrmPeriodicEvent MO class.
2. Configure the desired period of the scheduled backup event by specifying the number of weeks, days, hours, or minutes attributes in the BrmPeriodicEvent MO class. The BrmPeriodicEvent.hours attribute is mandatory to set. Use one or several of the attributes to specify the periodic scheduled backup event. Example If the BrmPeriodicEvent.hours attribute is set to 6 and the BrmPeriodicEvent.minutes attribute is set to 30, the scheduled backup event occurs every 6 hour and 30 minutes.
3. If required, set the optional BrmPeriodicEvent.startTime attribute for the periodic scheduled backup event. If the BrmPeriodicEvent.startTime attribute is not specified, the current system time is used as the default value.
4. If required, set the optional BrmPeriodicEvent.stopTime attribute for the periodic scheduled backup event. If the BrmPeriodicEvent.stopTime attribute is not specified, the scheduled event continues until canceled.

### 2.2.16 Cancel Existing Scheduled Backup Event

Steps

1. Delete the MO instance that represents the scheduled backup event to be canceled. That is, delete the MO instance of one of the following MO classes:
    - BrmSingleEvent
    - BrmCalendarBasedPeriodicEvent
    - BrmPeriodicEvent

### 2.2.17 Suspend Backup Scheduler

No more scheduled backup events are triggered as long as the

BrmBackupScheduler.adminState attribute of the backup scheduler is

locked.

Steps

1. Set the BrmBackupScheduler.adminState attribute to LOCKED.

### 2.2.18 Resume Backup Scheduler

Steps

1. Set the BrmBackupScheduler.adminState attribute to UNLOCKED.

### 2.2.19 View Next Scheduled Backup Event

Steps

1. Print the BrmBackupScheduler.nextScheduledTime attribute to view the date and time when the next scheduled event is triggered.

### 2.2.20 Manage Failsafe Backup Function

The failsafe backup function can be used when reconfiguring sensitive

parts of the node. The failsafe backup function protects from losing

the O&amp;M access to the node.

Before activating the function, the operator sets a rollback timer.

When the failsafe backup function is activated, the system creates

a temporary backup and starts the rollback timer. This backup is used

if the rollback timer expires and the system automatically restores.

After an automatic restore from backup the failsafe backup function

is automatically deactivated.

When the operator has performed a successful reconfiguration, the

failsafe backup function must be deactivated within the configured

rollback time to prevent an automatic rollback.

If there is a restart while the failsafe backup function is active,

the rollback timer is stopped. After the restart the rollback timer

continues the countdown.

When the failsafe backup function is deactivated, the rollback

timer is stopped and the backup created at the function activation

is removed.

Before using the failsafe backup function, ensure that the software management function is

ready to execute actions, that is, the SwM.actionCapable attribute is

set to CAPABLE.

To use the failsafe backup function, do the following:

Steps

1. Ensure that the failsafe backup function is IDLE by reading the BrmFailsafeBackup.usageState attribute. In case the BrmFailsafeBackup.usageState attribute is BUSY the failsafe backup function is already activated.
2. Set the BrmFailsafeBackup.timeoutLength attribute to the required time period the system waits before automatically restoring from a backup. The default rollback time-out is 1200 seconds, that is 20 Minutes.
3. Activate the failsafe backup function by initiating action activate() in the BrmFailsafeBackup MO class. The system automatically creates a backup and starts the rollback timer. This backup is used if the rollback timer expires and the system automatically restores.
4. Track the progress of the activate() action by the BrmFailsafeBackup.progressReport attribute. The action is finished when the progressReport state is FINISHED, and the action is successful when the progressReport result is SUCCESS. The BrmBackup.status attribute is BRM\_BACKUP\_COMPLETE and the creationType attribute is SYSTEM\_CREATED. If the progressReport result is FAILURE, read the progressReport resultInfo. More information about the failure is found in the SwmLog. Instructions on how to manually export the SwmLog are provided in Export Log MO Logs. If the activate action fails, the failsafe backup function is not activated.
5. Ensure that the failsafe backup function is activated by checking that the BrmFailsafeBackup.usageState attribute is BUSY. Note: If the BrmFailsafeBackup.usageState is IDLE the failsafe backup function is not activated.
6. Perform the sensitive reconfiguration of the node. Note: If more time is needed, set the BrmFailsafeBackup.timeoutLength attribute to the new desired time the system is to wait before automatically restoring the backup. The new desired time cannot have the same value as the one chosen earlier. The time remaining is shown in the BrmFailsafeBackup.timeRemaining attribute.
7. Confirm the sensitive reconfiguration by deactivating the failsafe backup function. Initiate action deactivate() in MO class BrmFailsafeBackup. The rollback timer is stopped and the backup created at the failsafe backup function activation is removed. The BrmFailsafeBackup.usageState attribute is IDLE. There are now three choices:
    1. If no other action is desired, use deactivate() without the optional parameter PostAction, or the parameter PostAction must be NOP.
    2. If the current backup should be placed at the top of the BrmBackupLabelStore.restoreEscalationList attribute initiate action deactivate(). Parameter PostAction must be ADD\_BACKUP\_TO\_LIST.
    3. If the current backup should be placed at the top of the BrmBackupLabelStore.restoreEscalationList attribute and all other backups should be removed from the list, initiate action deactivate(). Parameter PostAction must be CLEAR\_LIST.

Related concepts

Failsafe Backup Function

## 2.3 Handling Logs

### 2.3.1 Configure Log Severity Filter

Set the log severity filter to include or exclude events of different

severity levels.

Steps

1. Identify the instance of the Log MO to have its severity filter set. Note: The log severity filter cannot be set for the AlarmLog.
2. Set the Log.severityFilter attribute to the required severity levels or to an empty value. If no value is set, all entries are kept. If all severity levels are set, all entries are discarded.
3. Verify that the Log.severityFilter attribute is set correctly.

### 2.3.2 Export Log MO Logs

Before exporting a log manually, ensure that the node has access to an SFTP or FTPES

server.

Steps

1. Identify the Log MO instance to export.
2. Initiate the Log.export(&lt;uri&gt;, &lt;password&gt;) action. The &lt;uri&gt; parameter specifies the protocol and location to where the log is exported. The &lt;uri&gt; parameter can also contain the username at logon to the server. Example Specify the &lt;uri&gt; parameter in, for example, one of the following ways: sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory The &lt;password&gt; parameter is the password required to access the location specified in the &lt;uri&gt; parameter. Specify parameter &lt;password&gt; if required.
3. Track the progress of the Log.export action through the Log.progressReport attribute. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS.

### 2.3.3 Export Availability Log

Prerequisites

Before exporting a log manually, ensure that the node has access to an SFTP or FTPES

server.

Steps

1. Initiate the LogM.exportAvailabilityLog(&lt;uri&gt;, &lt;password&gt;) action. The &lt;uri&gt; parameter specifies the protocol and location to where the log is exported. The &lt;uri&gt; parameter can also contain the username at logon to the server. Example sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory The &lt;password&gt; parameter is the password required to access the location specified in the &lt;uri&gt; parameter. Specify the &lt;password&gt; parameter if required.
2. Track the progress of the LogM.exportAvailabilityLog action through the LogM.progressReport attribute. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS.

### 2.3.4 Export Hardware Inventory History Log

Prerequisites

Before exporting a log manually, ensure that the node has access to an SFTP or FTPES

server.

Steps

1. Initiate the HWInventoryHistoryLog::export(&lt;uri&gt;, &lt;password&gt;) action. Use the &lt;uri&gt; parameter to specify the protocol and location to which the log is exported. If the username is required at logon to the server, also specify it in the &lt;uri&gt; parameter. Example sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory If a password is required to access the location specified in the &lt;uri&gt; parameter, use the &lt;password&gt; parameter to specify the password.
2. Track the progress of the LogM:exportHWInventoryHistoryLog action through the LogM.progressReport attribute. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS.

### 2.3.5 Export ESI Package

The ESI package contains logs and other data to be used by Ericsson for analyzing the

problem if there is a node failure. The ESI package is encrypted.

For information on how to collect troubleshooting data that is to be enclosed in a Customer

Service Request (CSR), see Data Collection Guideline.

The ESI package can be fetched

in

static,

small,

or large granularity. Granularity large generates a complete ESI package. Granularity small

generates an ESI package with less data, which is used when storage space is

crucial. Granularity

static is used when both large and small ESI package generation is

impossible.

Prerequisites

Before exporting the ESI package, ensure that the node has access to an SFTP or FTPES

server.

Steps

1. Initiate the LogM.exportEsi(&lt;uri&gt;, &lt;password&gt;, &lt;granularity&gt;) action. The &lt;uri&gt; parameter specifies the protocol and location to where the ESI package is exported. The &lt;uri&gt; parameter can also contain the username at logon to the server. Example sftp://&lt;sftp-IP-address&gt;/&lt;directory&gt;/ sftp://&lt;username&gt;@&lt;sftp-IP-address&gt;/&lt;directory&gt;/ ftpes://&lt;username&gt;@&lt;ftpes-IP-address&gt;/&lt;directory&gt;/ - username is mandatory The &lt;password&gt; parameter is the password required to access the location specified in the &lt;uri&gt; parameter. Specify the &lt;password&gt; parameter if required. Select static small or large for the &lt;granularity&gt; parameter. Granularity large is default. Note: If the Archive Disk Almost Full alarm is raised, follow the Operating Instruction Archive Disk Almost Full to cease the alarm. If the Archive Disk Almost Full alarm is still raised, initiate the LogM.exportEsiaction with the &lt;granularity&gt; parameter set to small. If the Archive Disk Almost Full alarm is still raised, initiate the LogM.exportEsi action with the &lt;granularity&gt; parameter set to static. If the Archive Disk Almost Full alarm is ceased, the LogM.exportEsi action can be initiated with the &lt;granularity&gt; parameter set to large.
2. Track the progress of the LogM.exportEsi action through the LogM.reportProgress attribute. The action is finished when the state is FINISHED, and the action is successful when the result is SUCCESS.

### 2.3.6 Configure Push Log

Prerequisites

Before configuring a log to be automatically exported from the node,

ensure that

the

following conditions

are met:

- The node has access to an SFTP or FTPES server if the LogPushTransfer.transferType attribute must be configured as BULK.
- The node has access to a Syslog server if the LogPushTransfer.transferType attribute must be configured as STREAM.
- The Real-Time Security Event Logging feature is used when the security events are streamed. For details, see Real-Time Security Event Logging.
- The Integrated Endpoint Detection and Response feature must be activated to fetch EdrLog. For details, see Integrated Endpoint Detection and Response.

Steps

To configure a

SecurityLog,

an AuditTrailLog or

EdrLog as a push log, do the following:

1. Identify the instance of the Log MO to configure as a push log.
2. Create a LogPushTransfer MO as a child to the Log MO instance.
3. Set the value of the LogPushTransfer.transferType attribute to STREAM or BULK according to the actual situation.
4. Set the value of the LogPushTransfer.uri attribute according to the actual situation. For detail about the configurations, see Push Log Mechanism.
5. If user credentials are required, set the LogPushTransfer.password attribute.