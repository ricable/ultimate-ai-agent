---
complexity_score: 12.5
converted_at: '2025-08-13T06:58:23.274554Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 122_22104-LZA7016017_1Uen.BY.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 122_22104-LZA7016017_1Uen.BY.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 11
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Data-Aware Carrier Management

Contents

![Image](../images/122_22104-LZA7016017_1Uen.BY/additional_3_CP.png)

![Image](../images/122_22104-LZA7016017_1Uen.BY/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate
- Engineering Guidelines
    - Configure Data-Aware Carrier Management for All UE Connections
    - Configure Data-Aware Carrier Management for Different UE Groups
    - Configuration Guide for Data-Aware Carrier Management
    - Troubleshooting of Data-Aware Carrier Management
- Feature Change History
    - 23.Q2: Enhancement of UE Group Adaptation for Data-Aware Carrier Management
    - 23.Q4: Uplink Buffer Conditions for Data-Aware Carrier Management

# 1 Data-Aware Carrier Management Overview

The feature introduces buffer-based SCell activation and deactivation for carrier

aggregation in Low-Band and Mid-Band to improve UE battery

life.

| Feature Name           | Data-Aware Carrier Management                           |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 5410                                            |
| Value Package Name     | NR Base Package                                         |
| Value Package Identity | FAJ 801 4002                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | NR                                                      |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

The feature allows the dynamic activation and deactivation of SCells based on transmission

buffer size. This improves UE battery life when traffic is intermittent. The

parameter settings can be defined based on UE groups configured through the UE

Grouping Framework.

Additional Information

For more information, see the following documentation:

- 3GPP TS 38.133, NR; Requirements for support of radio resource management
- 3GPP TS 38.321, NR; Medium Access Control (MAC) protocol specification
- UE Grouping Framework

# 2 Dependencies of Data-Aware Carrier Management

The feature provides additional benefits for other carrier aggregation-related

features. Different configurations can be defined through the UE Grouping

Framework.

| Feature Name                                                                                         | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR DL Carrier Aggregation                                                                            | FAJ 121 5201       | NR            | Prerequisite   | Cell-level prerequisite | The Data-Aware Carrier Management feature is supported with all                                 carrier aggregation features in Low-Band and Mid-Band. This means                                 that if any of the carrier aggregation features are configured in a                                 cell, the Data-Aware Carrier Management feature can be used to check                                 the current RLC buffer status and other criteria to dynamically                                 activate and deactivate SCells. This helps to reduce UE power                                 consumption. |
| NR DL Carrier Aggregation for Coverage                                 Extension                     | FAJ 121 5202       | NR            | Prerequisite   | Cell-level prerequisite | The Data-Aware Carrier Management feature is supported with all                                 carrier aggregation features in Low-Band and Mid-Band. This means                                 that if any of the carrier aggregation features are configured in a                                 cell, the Data-Aware Carrier Management feature can be used to check                                 the current RLC buffer status and other criteria to dynamically                                 activate and deactivate SCells. This helps to reduce UE power                                 consumption. |
| TDD PCell Support for DL Carrier Aggregation                                     Low/Mid-Band        | FAJ 121 5363       | NR            | Prerequisite   | Cell-level prerequisite | The Data-Aware Carrier Management feature is supported with all                                 carrier aggregation features in Low-Band and Mid-Band. This means                                 that if any of the carrier aggregation features are configured in a                                 cell, the Data-Aware Carrier Management feature can be used to check                                 the current RLC buffer status and other criteria to dynamically                                 activate and deactivate SCells. This helps to reduce UE power                                 consumption. |
| NR 3CC DL Carrier Aggregation                                                                        | FAJ 121 5426       | NR            | Prerequisite   | Cell-level prerequisite | The Data-Aware Carrier Management feature is supported with all                                 carrier aggregation features in Low-Band and Mid-Band. This means                                 that if any of the carrier aggregation features are configured in a                                 cell, the Data-Aware Carrier Management feature can be used to check                                 the current RLC buffer status and other criteria to dynamically                                 activate and deactivate SCells. This helps to reduce UE power                                 consumption. |
| Flexible PDCCH                                 Monitoring                                            | FAJ 121 5782       | NR            | Related        |                         | SSSG switching is only supported if all SCells are deactivated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR 5CC DL Carrier Aggregation                                                                        | FAJ 121 5639       | NR            | Related        |                         | The Data-Aware Carrier Management feature checks the             current Radio Link Control (RLC) buffer status and several other criteria to dynamically             activate or deactivate all configured SCells. As a result, UE power consumption is             reduced.                                                                                                                                                                                                                                                                                                                                         |
| NR 6CC DL Carrier Aggregation                                                                        | FAJ 121 5753       | NR            | Related        |                         | The Data-Aware Carrier Management feature checks the current             Radio Link Control (RLC) buffer status and several other requirements to dynamically             activate or deactivate all configured SCells. As a result, UE power consumption is             reduced.                                                                                                                                                                                                                                                                                                                                     |
| NR Carrier Aggregation Data Steering                                                                 | FAJ 121 5683       | NR            | Related        |                         | For the PCell downlink data offload function of the NR Carrier Aggregation Data Steering             feature, active SCells are needed to offload data without a long delay. However, the             Data-Aware Carrier Management feature keeps SCells deactivated to save UE battery life.             Therefore, a tradeoff must be made by configuring the Data-Aware Carrier Management             feature for aggressive SCell activation. Any transmission shorter than the SCell             activation window is scheduled on the PCell.                                                                   |
| NR Data-Aware Mobility                                                                               | FAJ 121 5696       | NR            | Related        |                         | It is recommended to configure the Data-Aware Carrier             Management feature to activate the SCells before the NR Data-Aware Mobility feature             triggers mobility actions for the UE.                                                                                                                                                                                                                                                                                                                                                                                                               |
| LTE-NR Downlink Aggregation                                                                          | FAJ 121 4912       | NR            | Related        |                         | The Data-Aware Carrier Management feature might require             further configuration for downlink carrier aggregation when the LTE-NR Downlink             Aggregation feature is used. The uplink buffer conditions cannot be configured, as             uplink carrier aggregation is only available for NR Standalone deployment.                                                                                                                                                                                                                                                                             |
| UE Grouping Framework                                                                                | FAJ 121 5314       | NR            | Related        |                         | Different UE groups defined by the UE Grouping Framework can be                                 assigned to different configurations of the Data-Aware Carrier                                 Management feature.                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Traffic Steering                                                                                  | FAJ 121 5458       | NR            | Related        |                         | The following functions of the NR Traffic Steering feature       only consider SCells in NR that are in coverage for the UE when       calculating       the available cell set bandwidth:  Multi-Layer Coordination     Dynamic Cell Set Change during Mobility     Bandwidth-Triggered Inter-System Handover                                                                                                                                                                                                                                                                                                        |
| NR UE-Assisted Overheating                                 Mitigation                                | FAJ 121 5449       | NR            | Related        |                         | If the UE reports UAI overheating, the Data-Aware Carrier             Management feature does not activate SCells until the overheating is mitigated. The             SCells are deactivated regardless of the transmission buffer size. If the UAI             overheating is mitigated, SCells can be reactivated if the PSCell capacity is not             sufficient to serve the transmission buffer within a specified duration.                                                                                                                                                                                |
| NR Uplink Carrier Aggregation                                                                        | FAJ 121 5583       | NR            | Related        |                         | The Data-Aware Carrier Management feature supports uplink buffer             conditions for the dynamic activation and deactivation of SCells if the NR Uplink             Carrier Aggregation feature is enabled. This helps reduce UE power consumption.                                                                                                                                                                                                                                                                                                                                                            |
| Downlink RAN-Assisted Rate                                     Adaptation with L4S for Public RAN    | FAJ 121 5664       | NR            | Related        |                         | The Data-Aware Carrier Management feature might require adapted                                 configuration when the Downlink RAN-Assisted Rate Adaptation with                                 L4S for Public RAN feature is used on the same UE.                                                                                                                                                                                                                                                                                                                                                                  |
| Downlink RAN-Assisted Rate                                     Adaptation with L4S for Dedicated RAN | FAJ 121 5665       | NR            | Related        |                         | The Data-Aware Carrier Management feature might require adapted                                 configuration when the Downlink RAN-Assisted Rate Adaptation with                                 L4S for Dedicated RAN feature is used on the same UE.                                                                                                                                                                                                                                                                                                                                                               |
| NR-NR Dual Connectivity                                                                              | FAJ 121 5380       | NR            | Related        |                         | When SCells are activated in the MCG before NR-DC is configured, the offloading can decrease the probability to receive a high buffer report when reaching either the downlink RLC or uplink buffer monitoring threshold, and therefore decrease the probability to set up NR-DC.                                                                                                                                                                                                                                                                                                                                     |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

No specific network requirements.

# 3 Feature Operation of Data-Aware Carrier Management

The feature activates and deactivates the configured SCells based on coverage, buffer

status, and prohibition timers.

The feature activates and deactivates configured SCells based on the following

criteria:

- Buffer status The feature activates all SCells if the minimum time needed to transmit all bits in all priority queues of the UE in the downlink using the SpCell exceeds the activation threshold. The feature activates the SCell that has uplink enabled if the minimum time needed to transmit all bits in all priority queues of the UE using the SpCell exceeds the activation threshold only in the uplink. The feature deactivates all SCells if the minimum time needed to transmit all bits in all priority queues of the UE using the SpCell is below the deactivation threshold for a specified duration in the uplink and the downlink. The feature deactivates the SCells that do not have uplink enabled if the minimum time needed to transmit all bits in all priority queues of the UE using the SpCell is below the deactivation threshold only in the downlink. The SCells are deactivated if the minimum time needed is below the deactivation threshold for a specified duration. Figure 1 shows the SCell activation and deactivation sequence. If the minimum time needed to transmit all bits in all priority queues of the UE using the SpCell is below the deactivation threshold in the downlink, external SCells are excluded from downlink buffer splitting.
- Prohibition timer To avoid the rapid activation and deactivation of SCells, a timer is introduced to prohibit the deactivation, and another timer is introduced to prohibit the activation of SCells. Figure 1 shows the use cases of the prohibition timers.
- Coverage status The feature uses the A1 measurement and A2 measurements to determine if a specified SCell has good coverage or poor coverage. The coverage state of the SCells is unknown after initial blind configuration or if no measurements have been performed yet. Table 1 shows the SCell state selection with different coverage and buffer states.

When an SCell is configured, the initial state is based on the current buffer status.

Table 1   SCell States Based on Coverage and Buffer State

| Buffer State                             | SCell State If Coverage Is Unknown   | SCell State If Coverage Is Good   | SCell State If Coverage Is Poor   |
|------------------------------------------|--------------------------------------|-----------------------------------|-----------------------------------|
| Below or equal to deactivation threshold | Deactivated                          | Deactivated                       | Deactivated                       |
| Above activation threshold               | Activated                            | Activated                         | Deactivated                       |

Example 1   Operational Process

Figure 1   SCell Activation and Deactivation Operational Sequence

1. Current data volume in the buffer reaches the activation threshold in the uplink or the downlink and the SCells are activated. Uplink data volume leads to the activation of the SCell that has uplink enabled. Downlink data volume leads to the activation of all SCells. The UE is ready to receive assignments for the SCell and report the CSI after the HARQ ACK of the SCell activation Medium Access Control (MAC) Control Element (CE) command and the activation delay. If an SCell is reactivated and the last deactivation was not due to poor coverage, the old CSI can be used in PDCCH and PDSCH scheduling before the new CSI report. For this, the age of the old CSI report must not exceed the predefined CSI validity time. The deactivation prohibition timer starts.
2. Current data volume in the buffer sinks below the deactivation threshold in the uplink and the downlink. The deactivation delay timer starts. If the current data volume stays under the deactivation threshold during the deactivation delay time, the SCells are then deactivated.
3. Deactivation delay timer ends. The SCells are deactivated because the current data volume in the transmission buffer is still under the deactivation threshold. The activation prohibition timer starts.
4. Current data volume in the buffer in the uplink or the downlink reaches the activation threshold and the SCells are reactivated. The deactivation prohibition timer starts.
5. Current data volume in the buffer sinks below the deactivation threshold in the uplink and the downlink. The deactivation delay timer starts.
6. Deactivation delay timer ends. The SCells are not deactivated because the deactivation prohibition timer is still running.
7. Deactivation prohibition timer ends. The SCells are deactivated because the current data volume is still under the deactivation threshold and the deactivation delay timer has ended earlier. The activation prohibition timer starts.
8. Current data volume in the buffer reaches the activation threshold in the uplink or the downlink. The SCells are not reactivated because the activation prohibition timer is still running.
9. Current data volume in the buffer sinks below the activation threshold before the activation prohibition timer ends. If the data is above the activation threshold in the uplink or the downlink when the activation prohibition timer ends, the SCells are reactivated.

Related reference

Parameters for Data-Aware Carrier Management

# 4 Network Impact of Data-Aware Carrier Management

The feature manages the state of the SCells to improve UE battery life.

Capacity and Performance

UE power consumption decreases when traffic is intermittent.

The following network characteristics affect the feature operation, which can lead to

a performance impact in the network:

- MO attributes Different configurations affect the frequency of SCell activation and deactivation and the utilization of carrier aggregation.
- Traffic pattern Different traffic patterns call for different configurations. Incorrect configuration can lead to early or late SCell activation and deactivation. This can affect throughput and UE power consumption. The feature is most beneficial if the traffic is not uniform.
- SpCell type Depending on the duplex mode of the SpCell, the channel bandwidths can be different. TDD cells typically have wider bandwidths than FDD cells. The higher the bandwidth, the lower the recommendation for the SCell activation threshold. Incorrect configuration can lead to frequent SCell activation and deactivation. This can affect throughput and UE power consumption.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for Data-Aware Carrier Management

The feature introduces several MO classes and MO attributes. It is also affected by

existing MO attributes.

Table 2   MO Classes

| Class                | Type       | Description          |
|----------------------|------------|----------------------|
| UeCA                 | Introduced | See MOM description. |
| CaSCellHandling      | Introduced | See MOM description. |
| CaSCellHandlingUeCfg | Introduced | See MOM description. |

Table 3   MO Attributes

| Parameter                                          | Type       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UeCA.ueCAId                                        | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandling.caSCellHandlingId                  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandling.reservedBy                         | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandling.ueConfGroupType                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.caSCellHandlingUeCfgId        | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.prefUeGroupList               | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellActDeactDataThres        | Introduced | The SCells are activated if the minimum time needed to transmit all                                 bits in all priority queues of UE is higher than the configured                                 value. The value of the                                     CaSCellHandlingUeCfg.sCellActDeactDataThres MO attribute represents the number of downlink slots times 10. For                                 example, if the attribute is set to 10, it means that the SCells are                                 activated if the data in the buffer is more than what can be                                 transmitted in one downlink slot. If the attribute is set to 20,                                 then the threshold is at two downlink slots, and so on.  For more information, see MOM description. |
| CaSCellHandlingUeCfg.sCellActDeactDataThresHyst    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellActDeactUlDataThresh     | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellActDeactUlDataThreshHyst | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellDeactDelayTimer          | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellActProhibitTimer         | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.sCellDeactProhibitTimer       | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.ueGroupList                   | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.ueConfGroupList               | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| CaSCellHandlingUeCfg.userLabel                     | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NRCellDU.caSCellHandlingRef                        | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| PrefUeGroupSelectionProfile.prefUeGroupPriority    | Affecting  | With this parameter, different UE groups can be defined as part of                                 the UE Grouping Framework. These groups can later be assigned to                                 different feature configurations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| PrefUeGroupSelectionProfile.selectionCriteria      | Affecting  | With this parameter, different UE groups can be defined as part of                                 the UE Grouping Framework. These groups can later be assigned to                                 different feature configurations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| UeGroupSelectionProfile.selectionCriteria          | Affecting  | With this parameter, different UE groups can be defined as part of                                 the UE Grouping Framework. These groups can later be assigned to                                 different feature configurations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| UeGroupSelectionProfile.ueGroupPriority            | Affecting  | With this parameter, different UE groups can be defined as part of                                 the UE Grouping Framework. These groups can later be assigned to                                 different feature configurations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

# 6 Performance of Data-Aware Carrier Management

The feature has associated KPIs, new and existing PM counters, and an updated PM

event.

KPIs

| KPI                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Average DL MAC DRB Throughput [kbps]                                                                    | Shows DRB downlink throughput for data bursts that are restricted                                     by the air interface. Contribution from the following                                     unrestricted data volumes is not considered unless the last slot                                     overlaps with another burst:  Last slot     Single burst     Single slot short burst      Downlink DRB throughput is expected to increase because of                                     the higher data rates from CA UEs. However, with certain network                                     characteristics, traffic patterns, and configurations, the                                     current data volume in the RLC buffer might not reach the SCell                                     activation threshold at all. This can cause the Downlink DRB                                     throughput to decrease slightly.                    |
| Average UL MAC UE Throughput                                                                            | Shows MAC UE throughput for data bursts that are restricted by                                     the air interface. Based on the configured values of the uplink                                     SCell activation and deactivation thresholds, the KPI might                                     increase.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| DL MAC DRB Throughput per QoS [kbps]                                                                    | Shows DRB downlink throughput for each QoS class for data bursts                                     that are restricted by the air interface. Contribution from the                                     following unrestricted data volumes is not considered unless the                                     last slot overlaps with another burst:  Last slot     Single burst     Single slot short burst      Downlink DRB throughput is expected to increase because of                                     the higher data rates from CA UEs. However, with certain network                                     characteristics, traffic patterns, and configurations, the                                     current data volume in the RLC buffer might not reach the SCell                                     activation threshold at all. This can cause the downlink DRB                                     throughput to decrease slightly. |
| Normalized Average DLMAC Cell Throughput Considering Traffic                                     [kbps] | Normalized DLMAC throughput against traffic. Slots where no                                     traffic is taking place are excluded. KPI is expected to                                     increase because of the higher data rates from carrier                                     aggregation UEs. However, with certain network characteristics,                                     traffic patterns, and configurations, the current data volume in                                     the RLC buffer might not reach the SCell activation threshold at                                     all. This can cause the Downlink MAC Cell throughput to                                     descrease slightly.                                                                                                                                                                                                                                      |
| Percentage Unrestricted Volume UL                                                                       | Shows the percentage of uplink data volume that is classified as                                     unrestricted for each UE in a cell. Based on the configured                                     values of the uplink SCell activation and deactivation                                     thresholds, the KPI might increase.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

Counters

The feature introduces the following EBS counters:

- NRCellDU.pmEbsnMacScellActivationUeDl
- NRCellDU.pmEBsnMacSCellActivationUeUl
- NRCellDU.pmEbsMacSCellDeactivationUe

The following PM counters are related to the feature:

- NRCellDU.pmMacVolDl
- NRCellDU.pmMacVolUl
- NRCellDU.pmMacVolDlSCell
- NRCellDU.pmMacVolUlSCell
- NRCellDU.pmMacVolDlSCellExt
- NRCellDU.pmMacOffloadVolDlSCell
- NRCellDU.pmMacOffloadVolUlSCell
- NRCellDU.pmMacOffloadVolDlSCellExt

Events

The DuPerUeTrafficRep event is updated to be compliant with the

introduced counters.

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

Related concepts

Configuration Guide for Data-Aware Carrier Management

# 8 Engineering Guidelines for Data-Aware Carrier Management

## 8.1 Configure Data-Aware Carrier Management for All UE Connections

The feature requires configuring the NRCellDU.caSCellHandlingRef

attribute to reference one of the CaSCellHandling MO

instances.

With this configuration, all connected UEs are treated in the same way.

Prerequisites

- The CaSCellHandling=Default MO instance is created automatically when the GNBDUFunction.UeCA parent MO class is created.
- The CaSCellHandlingUeCfg=Base MO instance is created automatically when the UeCA.CaSCellHandling parent MO class is created.

Steps

1. Set the CaSCellHandlingUeCfg.sCellActDeactDataThres attribute under the CaSCellHandlingUeCfg=Base MO instance to the desired value for downlink. A higher value means that more data in the RLC buffer is needed to trigger the SCell activation.
2. Set the CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attribute under the CaSCellHandlingUeCfg=Base MO instance to the desired value for uplink.
3. Set the NRCellDU.caSCellHandlingRef attribute to UeCA=1,CaSCellHandling=Default.

Results

For every UE, the SCells are activated when the current data in the transmission

buffer surpasses the SCell activation threshold, which is a function of the

following parameters:

- The SpCell pipe capacity
- The configured value of the CaSCellHandlingUeCfg.sCellActDeactDataThres attribute
- The configured value of the CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attribute
- The number of active UEs with data in the buffer in the network

## 8.2 Configure Data-Aware Carrier Management for Different UE Groups

The feature requires configuring the NRCellDU.caSCellHandlingRef

attribute to reference one of the CaSCellHandling MO

instances.

With this configuration, connected UEs under different UE groups are treated

differently based on the assigned configuration.

Prerequisites

- The CaSCellHandling=Default MO instance is created automatically when the GNBDUFunction.UeCA parent MO class is created.
- The CaSCellHandlingUeCfg=Base MO instance is created automatically when the UeCA.CaSCellHandling parent MO class is created.

Steps

1. Create a preference UE group selection profile under the UeGroupSelection MO class. For more information on creating UE group selection profiles, see UE Grouping Framework.
2. Create a CaSCellHandlingUeCfg MO instance under the CaSCellHandling=Default MO instance.
3. Set the value of the CaSCellHandlingUeCfg.prefUeGroupList attribute under the CaSCellHandlingUeCfg MO instance to the ID of the preference UE group selection profile created in Step 1.
4. Set the CaSCellHandlingUeCfg.sCellActDeactDataThres attribute under the CaSCellHandlingUeCfg MO instance to the desired value for downlink.
5. Set the CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attribute under the CaSCellHandlingUeCfg MO instance to the desired value for uplink.
6. Set the NRCellDU.caSCellHandlingRef attribute to UeCA=1,CaSCellHandling=Default.

Results

The configuration is assigned to the UE group with the ID specified in Step 3. UEs in

this group are treated according to this assigned configuration.

## 8.3 Configuration Guide for Data-Aware Carrier Management

Based on network statistics, RRC sessions can be divided into data volume

categories.

Background

Table 4   RRC Session Statistics

| Data Volume in Each Session            | Example Traffic Type            | Accumulated Number of RRC Sessions Compared to the Total                                         Number of RRC Sessions   | Accumulated Data Volume Compared to the Total Data Volume   |
|----------------------------------------|---------------------------------|---------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
| Below 100 kB [low-volume]              | System data                     | 90%                                                                                                                       | 2%                                                          |
| Between 100 kB and 10 MB [high-volume] | Web browsing                    | 9%                                                                                                                        | 43%                                                         |
| Over 10 MB [high-volume]               | Media streaming, game streaming | 1%                                                                                                                        | 55%                                                         |

RRC sessions below 100 kB typically consist of system data. This category is referred

to as low-volume sessions.

The low-volume sessions take up 90% of the RRC sessions, but only 2% of the total

data volume across all the RRC sessions in a network. Most of these sessions do not

contain enough data to indicate the need for carrier aggregation use. In this case,

the SCell activation delay is longer than the time needed for the

SpCell to transmit the buffered data.

However, the categories above 100 kB in each session combined take up 10% of the RRC

sessions, but they account for 98% of the total data volume across all the RRC

sessions in a network. During these high-volume sessions, the use of carrier

aggregation can be beneficial.

The goal of the feature configuration is to create a balance between responsiveness

and power saving. This can be achieved by configuring the feature in a way that only

the high-volume sessions trigger the SCell activations.

SCell Activation Threshold

The SCells are activated if the number of uplink or downlink slots needed to transmit

all bits in all priority queues for the UE in an SpCell is higher than

the configured value. The value of the

CaSCellHandlingUeCfg.sCellActDeactDataThres attribute

represents the number of downlink slots times 10. For example, if the

CaSCellHandlingUeCfg.sCellActDeactDataThres attribute is set

to 10, it means that the SCells are activated if the data in the buffer is more than

the data that can be transmitted in one downlink slot. If the attribute is set to

20, then the threshold is at two downlink slots, and so on.

Because of the slot-based configuration, the actual threshold is not a constant

value. It is calculated separately for every UE and is affected by the following

parameters:

- The SpCell pipe capacity that depends on the SpCell bandwidth and the channel quality between the UE and the SpCell
- The values of the CaSCellHandlingUeCfg.sCellActDeactDataThres and the CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attributes
- The number of active UEs that have data in the buffer in the SpCell

The actual SCell activation threshold decreases if any of the following conditions

apply:

- The UE moves towards poor coverage.
- More UEs have data in the buffer in the SpCell.

This decrease in the SCell activation threshold can cause more low-volume sessions to

trigger the SCell activation. This increases UE power consumption without providing

an increase in throughput. To mitigate this, it is recommended to set a higher SCell

activation threshold.

If a TDD 100 MHz component carrier is configured as an SpCell and an FDD 20 MHz

component carrier is configured as an SCell, it is recommended to initiate SCell

activation only when data volume in the downlink buffer is sufficient. To achieve

this, set the value of the

CaSCellHandlingUeCfg.sCellActDeactDataThres attribute to 100,

which triggers SCell activation only when a data volume that exceeds 10 SpCell slots

accumulates.

Correspondingly, when the value of the

CaSCellHandlingUeCfg.sCellActDeactDataThreshHyst attribute is

set to 20, SCell deactivation occurs when data volume decreases to or below eight

SpCell slots. The value of the

CaSCellHandlingUeCfg.sCellActDeactDataThreshHyst attribute is

calculated as the difference between the values of the

CaSCellHandlingUeCfg.sCellActDeactDataThres and

CaSCellHandlingUeCfg.sCellActDeactUlDataThreshHyst

attributes, which is equal to 80 and represents eight slots of data.

The feature can be enabled or disabled by configuring the

CaSCellHandlingUeCfg.sCellActDeactDataThres and the

CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attributes.

The default value of the

CaSCellHandlingUeCfg.sCellActDeactDataThres MO attribute is

1. The default value of the

CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attribute is

100. The activation threshold value of -1

means that even if there is no data in the transmission buffers, the SCell

activation threshold is always surpassed, and the SCell stays active. If the default

value is not changed or the attribute is reconfigured to 1,

buffer-based evaluations are disabled and the SCells are only activated or

deactivated based on UE L3 measurements. The following values define the operating

state of the feature:

| 1     |    | Disabled   |
|--------|----|------------|
|        |    |            |
| 05000 |    | Enabled    |

Example 2

Figure 2 shows how the coverage level of the

UE in the SpCell affects the SCell activation threshold.

Figure 2   SCell Activation Threshold in Relation to UE Coverage

If the CaSCellHandlingUeCfg.sCellActDeactDataThres

attribute is set to 20, it means that the SCells are activated if

the data in the buffer is more than the data that can be transmitted in the

SpCell in two downlink slots.

As the UE moves towards poor coverage, the actual SCell activation threshold for that

UE decreases.

The same principle applies to the number of UEs with data in the buffer in the

network regardless of coverage. If more active UEs are present in the

SpCell, the actual SCell activation threshold is lower for each

UE.

SCell Deactivation Threshold

The SCell deactivation threshold can be defined by configuring the SCell activation

threshold hysteresis through the

CaSCellHandlingUeCfg.sCellActDeactDataThresHyst and the

CaSCellHandlingUeCfg.sCellActDeactUlDataThreshHyst

attributes. The value of these attributes define the difference between the

activation thresholds and the deactivation thresholds.

If the threshold hysteresis is too low, it can cause rapid SCell deactivation. In

this case, even a small increase in the buffer data level can cause rapid

reactivation.

Timers

The rapid activation and deactivation of the SCells between data bursts cause

throughput loss. This is because of the activation delay, during which data cannot

be scheduled through the SCell. This happens every time an SCell is activated.

To prevent this throughput loss, the following timers must be configured through

their respective attributes:

- SCell deactivation delay timer CaSCellHandlingUeCfg.sCellDeactDelayTimer
- SCell deactivation prohibition timer CaSCellHandlingUeCfg.sCellDeactProhibitTimer
- SCell activation prohibition timer CaSCellHandlingUeCfg.sCellActProhibitTimer

The SCell deactivation delay timer starts if the data volume in the buffer is lower

than the deactivation threshold. This means that the SCell will not deactivate if

the next data burst increases the data volume in the buffer above the deactivation

threshold before the SCell deactivation delay timer ends. This timer is recommended

to be configured to a high enough value so that the SCell stays active in the gaps

between data bursts. This way, the SCell stays active in the whole UE session and it

is deactivated between the sessions.

The SCell deactivation prohibition timer starts at the activation of an SCell. It can

prevent the SCell from deactivating between data bursts even if the deactivation

delay timer runs out while the data volume in the buffer is lower than the

deactivation threshold. While the timer is active, it can prevent additional SCell

deactivations and activations between data bursts even if the SCell deactivation

delay timer is set to a lower value.

The SCell activation prohibition timer starts at the deactivation of an SCell. It

prevents the SCell from rapid reactivation.

The following recommendations create a balanced timer configuration:

- The SCell deactivation delay timer is the most efficient if it is configured to be longer than about 90% of the gaps between data bursts in a session.
- The SCell deactivation prohibition timer can cover some of the remaining gaps in the beginning of a session. For this, it must be configured to be longer than the deactivation delay timer, but shorter than the typical duration of a high-volume session.
- The SCell activation prohibition timer can be shorter than the other timers to allow the SCells to be reactivated quickly. This creates responsiveness.

When using the Data-Aware Carrier Management feature together with the LTE-NR

Downlink Aggregation feature, the

CaSCellHandlingUeCfg.sCellActDeactDataThres attribute needs

to be configured to lower values than recommended in order to allow for SCell

activation for split DRBs. Performance might improve due to more stable SCell

activation, if the CaSCellHandlingUeCfg.sCellDeactDelayTimer

attribute is increased.

Profile Management

To have an optimized network, it is recommended to define multiple profiles by

creating different CaSCellHandlingUeCfg MO instances

Different profiles can be beneficial for UEs in different UE groups and preference UE

groups. These profiles can be, for example:

- A profile optimized for maximum power saving with high SCell activation threshold.
- A profile optimized for rapid SCell activation with higher power consumption and higher overall throughput.

At the initial configuration of an SCell, or SCells, the UE is assigned to a certain

CaSCellHandlingUeCfg MO instance. This initial assignment is

kept until a new SCell is configured, or an existing SCell is deconfigured.

A/B Testing

The UE Grouping Framework provides a method for A/B-testing.

Instead of testing one configuration at a time, several configurations can be

applied simultaneously. This reduces the total time it takes to test and compare

different configurations, while ensuring that the different configurations are

applied under the same conditions.

Related tasks

Configure Data-Aware Carrier Management for Different UE Groups

## 8.4 Troubleshooting of Data-Aware Carrier Management

Zero or Low Number of Activations Observed

If the feature is enabled and the number of SCell activations is low or zero, the

cause can be any of the following conditions:

- The configured activation threshold is too high.
- The SpCell has a large bandwidth and the number of active UEs is small.
- The UE is in good coverage and the SpCell is capable of transmitting all the data to the UE without accumulating a large amount of data in the buffer.
- The traffic is too uniform and the data in the buffer stays below the activation threshold most of the time.

If no activations are observed in an SCell with the first three conditions applicable

and an increase in buffer overflow, that means, that the actual SCell activation

threshold is configured to a higher value than the buffer capacity.

The solution can be to set the

CaSCellHandlingUeCfg.sCellActDeactDataThres and the

CaSCellHandlingUeCfg.sCellActDeactUlDataThresh MO attributes

to lower values.

High Number of SCell Activations, Low SCell Data Volume

If the feature is enabled and the number of the SCell activations is high, but the

average SCell data transmission volume is low, the cause can be any of the following

conditions:

- The configured activation threshold is too low for the SpCell bandwidth, load, or coverage conditions.
- The deactivation delay timer is too short, causing the SCell to be deactivated before the next traffic burst can increase the data volume in the buffer. Together with a low activation threshold, this can cause rapid reactivation that leads to additional activation delay, during which data cannot be scheduled through the SCell.
- The threshold hysteresis is too small and the SCell deactivation is triggered too early.

The solution can be one or more the following actions:

- Set the CaSCellHandlingUeCfg.sCellActDeactDataThres and the CaSCellHandlingUeCfg.sCellActDeactUlDataThresh attributes to higher values.
- Set the CaSCellHandlingUeCfg.sCellDeactDelayTimer attribute to a higher value.
- Set the CaSCellHandlingUeCfg.sCellActDeactDataThresHyst and the CaSCellHandlingUeCfg.sCellActDeactUlDataThreshHyst attributes to higher values.

# 9 Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## 9.1 23.Q2: Enhancement of UE Group Adaptation for Data-Aware Carrier Management

This feature enhancement introduces additional attributes to further support the UE

group-differentiated configuration of the Data-Aware Carrier Management feature.

| Feature Name           | Data-Aware Carrier Management   |
|------------------------|---------------------------------|
| Feature Identity       | FAJ 121 5410                    |
| Value Package Name     | NR Base Package                 |
| Value Package Identity | FAJ 801 4002                    |
| Node Type              | Baseband Radio Node             |
| Access Type            | NR                              |
| Impact at Upgrade      | Mandatory                       |

Summary and Benefits

The feature enhancement introduces additional attributes for the Data-Aware Carrier

Management feature to be fully configurable for all UE group types. For more

information on UE grouping in general, see UE Grouping Framework.

Capacity and Performance

No impact.

Operation

The feature enhancement introduces the following attributes:

- CaSCellHandling.ueConfGroupType
- CaSCellHandlingUeCfg.ueConfGroupList

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 23.2 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

Related Information

Data-Aware Carrier Management

UE Grouping Framework

## 9.2 23.Q4: Uplink Buffer Conditions for Data-Aware Carrier Management

The feature enhancement introduces attributes to consider uplink buffer

conditions.

| Feature Name           | Data-Aware Carrier Management   |
|------------------------|---------------------------------|
| Feature Identity       | FAJ 121 5410                    |
| Value Package Name     | NR Base Package                 |
| Value Package Identity | FAJ 801 4002                    |
| Node Type              | Baseband Radio Node             |
| Access Type            | NR                              |
| Impact at Upgrade      | Mandatory                       |

Summary and Benefits

The feature enhancement introduces uplink buffer conditions for the Data-Aware

Carrier Management feature. For the activation of SCells, the uplink or the downlink

buffer conditions need to be fulfilled. For the deactivation of SCells, both the

uplink and the downlink buffer conditions need to be fulfilled.

Capacity and Performance

No impact.

Operation

The CaSCellHandlingUeCfg.sCellActDeactUlDataThresh and the

CaSCellHandlingUeCfg.sCellActDeactUlDataThreshHyst attributes

are introduced to consider uplink buffer conditions for the feature. The NR Uplink

Carrier Aggregation feature must be enabled for uplink buffer conditions to be

considered.

Hardware

No specific hardware requirements.

Interfaces

No impact.

Other Network Elements

It is recommended to use ENM version 23.4 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

Related Information

Data-Aware Carrier Management