# .env.staging.template
# UAP Staging Environment Configuration Template
# Copy this file to .env.staging and fill in actual values
# Secrets will be injected by Teller in staging

# === Application Configuration ===
UAP_ENV=staging
NODE_ENV=staging
PYTHONPATH=/app/backend

# === Server Configuration ===
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_PORT=3000
UVICORN_WORKERS=2
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker

# === Framework Configuration ===
# CopilotKit Framework
COPILOTKIT_API_KEY=${COPILOTKIT_API_KEY}
COPILOTKIT_WEBHOOK_SECRET=${COPILOTKIT_WEBHOOK_SECRET}
COPILOTKIT_CACHE_SIZE=512MB
COPILOTKIT_MAX_TOKENS=2048
COPILOTKIT_TIMEOUT=30

# Agno Framework  
AGNO_API_KEY=${AGNO_API_KEY}
AGNO_WORKSPACE_ID=${AGNO_WORKSPACE_ID}
AGNO_GPU_MEMORY=4GB
AGNO_MAX_CONCURRENT_DOCS=5
AGNO_TIMEOUT=60

# Mastra Framework
MASTRA_API_KEY=${MASTRA_API_KEY}
MASTRA_WORKFLOW_TOKEN=${MASTRA_WORKFLOW_TOKEN}
MASTRA_WORKER_COUNT=2
MASTRA_MAX_WORKFLOWS=25
MASTRA_TIMEOUT=120

# === Core LLM APIs ===
OPENAI_API_KEY=${OPENAI_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

# === Database Configuration ===
DATABASE_URL=${DATABASE_URL}
REDIS_URL=${REDIS_URL}
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# === Vector Database ===
PINECONE_API_KEY=${PINECONE_API_KEY}
PINECONE_ENVIRONMENT=us-west1-gcp-staging
WEAVIATE_API_KEY=${WEAVIATE_API_KEY}
WEAVIATE_URL=https://uap-staging-cluster.weaviate.network

# === Security Configuration ===
JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60
JWT_REFRESH_EXPIRE_DAYS=7
ENCRYPTION_KEY=${ENCRYPTION_KEY}
ENCRYPTION_ALGORITHM=AES-256-GCM

# === External Services ===
TAVILY_API_KEY=${TAVILY_API_KEY}
SERP_API_KEY=${SERP_API_KEY}
DOCLING_API_KEY=${DOCLING_API_KEY}

# === Cloud Provider Configuration ===
# Google Cloud
GOOGLE_APPLICATION_CREDENTIALS_JSON=${GOOGLE_APPLICATION_CREDENTIALS_JSON}
GCP_PROJECT_ID=uap-staging
GCP_REGION=us-central1

# AWS
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-west-2

# Azure
AZURE_CLIENT_ID=${AZURE_CLIENT_ID}
AZURE_CLIENT_SECRET=${AZURE_CLIENT_SECRET}
AZURE_TENANT_ID=your-tenant-id
AZURE_SUBSCRIPTION_ID=your-subscription-id

# === Performance and Scaling ===
MAX_CONCURRENT_REQUESTS=500
REQUEST_TIMEOUT=300
RATE_LIMIT_PER_MINUTE=50
RATE_LIMIT_BURST=100
RATE_LIMIT_REDIS_URL=${RATE_LIMIT_REDIS_URL}

# === Session and Caching ===
SESSION_SECRET=${SESSION_SECRET}
SESSION_TIMEOUT=3600
CACHE_TTL=1800
CACHE_MAX_SIZE=500

# === Monitoring and Observability ===
DATADOG_API_KEY=${DATADOG_API_KEY}
DATADOG_SERVICE_NAME=uap-staging
PROMETHEUS_BASIC_AUTH=${PROMETHEUS_BASIC_AUTH}
PROMETHEUS_PORT=9090
GRAFANA_API_KEY=${GRAFANA_API_KEY}

# === Logging Configuration ===
LOG_LEVEL=DEBUG
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=5

# === Webhook Configuration ===
WEBHOOK_SECRET=${WEBHOOK_SECRET}
GITHUB_WEBHOOK_SECRET=${GITHUB_WEBHOOK_SECRET}
WEBHOOK_TIMEOUT=30

# === File Upload and Storage ===
MAX_FILE_SIZE=50MB
UPLOAD_DIRECTORY=/app/uploads
ALLOWED_EXTENSIONS=pdf,doc,docx,txt,md,csv,json
STORAGE_BACKEND=s3
S3_BUCKET_NAME=uap-staging-uploads

# === GPU and Compute Configuration ===
CUDA_VISIBLE_DEVICES=0
GPU_MEMORY_FRACTION=0.6
TORCH_NUM_THREADS=4
OMP_NUM_THREADS=4

# === Health Check Configuration ===
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# === Backup Configuration ===
BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM
BACKUP_RETENTION_DAYS=14
BACKUP_S3_BUCKET=uap-staging-backups

# === Feature Flags ===
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_EXPERIMENTAL_FEATURES=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_LOGGING=true

# === Development/Debug (more permissive in staging) ===
DEBUG=true
DEVELOPMENT_MODE=false
ENABLE_CORS_ALL=true
SKIP_AUTH_FOR_HEALTH=true